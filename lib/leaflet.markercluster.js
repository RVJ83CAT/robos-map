<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="description" content="The CDN for everything on npm"/><link rel="icon" type="image/jpeg" href="/favicon.jpg"/><link rel="stylesheet" href="https://app.unpkg.com/_assets/styles-D6XP7YEC.css"/><link rel="stylesheet" href="https://app.unpkg.com/_assets/code-light-B2LHUSJR.css"/><script type="importmap">{"imports":{"preact":"https://unpkg.com/preact@10.25.4/dist/preact.module.js","preact/hooks":"https://unpkg.com/preact@10.25.4/hooks/dist/hooks.module.js","preact/jsx-runtime":"https://unpkg.com/preact@10.25.4/jsx-runtime/dist/jsxRuntime.module.js"}}</script><script type="module" src="https://app.unpkg.com/_assets/scripts-5LWG6LQM.js" defer></script><title>UNPKG</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-140352188-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-140352188-1');</script></head><body><header class="border-b border-slate-300 bg-slate-100 text-slate-950"><div class="p-4 mx-auto flex justify-between items-center lg:max-w-screen-xl"><h1 class="text-2xl font-bold inline-block"><a href="https://unpkg.com">UNPKG</a></h1><span class="inline-block h-full"><a href="https://github.com/unpkg"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6"><path fill-rule="evenodd" d="M12.006 2a9.847 9.847 0 0 0-6.484 2.44 10.32 10.32 0 0 0-3.393 6.17 10.48 10.48 0 0 0 1.317 6.955 10.045 10.045 0 0 0 5.4 4.418c.504.095.683-.223.683-.494 0-.245-.01-1.052-.014-1.908-2.78.62-3.366-1.21-3.366-1.21a2.711 2.711 0 0 0-1.11-1.5c-.907-.637.07-.621.07-.621.317.044.62.163.885.346.266.183.487.426.647.71.135.253.318.476.538.655a2.079 2.079 0 0 0 2.37.196c.045-.52.27-1.006.635-1.37-2.219-.259-4.554-1.138-4.554-5.07a4.022 4.022 0 0 1 1.031-2.75 3.77 3.77 0 0 1 .096-2.713s.839-.275 2.749 1.05a9.26 9.26 0 0 1 5.004 0c1.906-1.325 2.74-1.05 2.74-1.05.37.858.406 1.828.101 2.713a4.017 4.017 0 0 1 1.029 2.75c0 3.939-2.339 4.805-4.564 5.058a2.471 2.471 0 0 1 .679 1.897c0 1.372-.012 2.477-.012 2.814 0 .272.18.592.687.492a10.05 10.05 0 0 0 5.388-4.421 10.473 10.473 0 0 0 1.313-6.948 10.32 10.32 0 0 0-3.39-6.165A9.847 9.847 0 0 0 12.007 2Z" clip-rule="evenodd"></path></svg></a></span></div></header><main class="px-4 pb-24 mx-auto lg:max-w-screen-xl lg:pb-44"><header class="pt-6 pb-4 lg:pt-16"><div class="mb-6 flex justify-between items-center"><h1 class="text-black text-3xl leading-tight font-semibold">leaflet.markercluster</h1><div class="text-right w-48"><span>Version: </span><span data-hydrate="{&quot;key&quot;:&quot;VersionSelector&quot;,&quot;props&quot;:{&quot;availableTags&quot;:{&quot;latest&quot;:&quot;1.5.3&quot;,&quot;prerelease&quot;:&quot;1.0.0-rc.1.0&quot;},&quot;availableVersions&quot;:[&quot;1.5.3&quot;,&quot;1.5.2&quot;,&quot;1.5.1&quot;,&quot;1.5.0&quot;,&quot;1.4.1&quot;,&quot;1.4.0&quot;,&quot;1.3.0&quot;,&quot;1.2.0&quot;,&quot;1.1.0&quot;,&quot;1.0.6&quot;,&quot;1.0.5&quot;,&quot;1.0.4&quot;,&quot;1.0.3&quot;,&quot;1.0.2&quot;,&quot;1.0.1&quot;,&quot;1.0.0&quot;,&quot;1.0.0-rc.1.0&quot;,&quot;0.5.0&quot;,&quot;0.4.0&quot;,&quot;0.3.0&quot;],&quot;currentVersion&quot;:&quot;1.4.1&quot;,&quot;pathnameFormat&quot;:&quot;/leaflet.markercluster@%s/files/dist/leaflet.markercluster.js&quot;,&quot;class&quot;:&quot;w-28 p-1 border border-slate-300 bg-slate-100 text-sm&quot;}}"><select name="version" class="w-28 p-1 border border-slate-300 bg-slate-100 text-sm"><optgroup label="Tags"><option value="1.5.3">latest (1.5.3)</option><option value="1.0.0-rc.1.0">prerelease (1.0.0-rc.1.0)</option></optgroup><optgroup label="Versions"><option value="1.5.3">1.5.3</option><option value="1.5.2">1.5.2</option><option value="1.5.1">1.5.1</option><option value="1.5.0">1.5.0</option><option selected value="1.4.1">1.4.1</option><option value="1.4.0">1.4.0</option><option value="1.3.0">1.3.0</option><option value="1.2.0">1.2.0</option><option value="1.1.0">1.1.0</option><option value="1.0.6">1.0.6</option><option value="1.0.5">1.0.5</option><option value="1.0.4">1.0.4</option><option value="1.0.3">1.0.3</option><option value="1.0.2">1.0.2</option><option value="1.0.1">1.0.1</option><option value="1.0.0">1.0.0</option><option value="1.0.0-rc.1.0">1.0.0-rc.1.0</option><option value="0.5.0">0.5.0</option><option value="0.4.0">0.4.0</option><option value="0.3.0">0.3.0</option></optgroup></select></span></div></div><div class="mt-2"><p class="mb-3 leading-tight"><span>Provides Beautiful Animated Marker Clustering functionality for Leaflet</span></p><div class="lg:hidden"><p class="mt-1 text-sm leading-4"><a href="https://github.com/Leaflet/Leaflet.markercluster#readme" title="Visit the leaflet.markercluster website" class="inline-flex items-center hover:text-slate-950 hover:underline"><svg aria-hidden="true" fill="none" viewBox="0 0 24 24" class="w-6 h-6"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.213 9.787a3.391 3.391 0 0 0-4.795 0l-3.425 3.426a3.39 3.39 0 0 0 4.795 4.794l.321-.304m-.321-4.49a3.39 3.39 0 0 0 4.795 0l3.424-3.426a3.39 3.39 0 0 0-4.794-4.795l-1.028.961"></path></svg><span class="ml-1">github.com/Leaflet/Leaflet.markercluster</span></a></p><p class="mt-1 text-sm leading-4"><a href="https://github.com/Leaflet/Leaflet.markercluster" title="View the leaflet.markercluster repository on GitHub" class="inline-flex items-center hover:text-slate-950 hover:underline"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6"><path fill-rule="evenodd" d="M12.006 2a9.847 9.847 0 0 0-6.484 2.44 10.32 10.32 0 0 0-3.393 6.17 10.48 10.48 0 0 0 1.317 6.955 10.045 10.045 0 0 0 5.4 4.418c.504.095.683-.223.683-.494 0-.245-.01-1.052-.014-1.908-2.78.62-3.366-1.21-3.366-1.21a2.711 2.711 0 0 0-1.11-1.5c-.907-.637.07-.621.07-.621.317.044.62.163.885.346.266.183.487.426.647.71.135.253.318.476.538.655a2.079 2.079 0 0 0 2.37.196c.045-.52.27-1.006.635-1.37-2.219-.259-4.554-1.138-4.554-5.07a4.022 4.022 0 0 1 1.031-2.75 3.77 3.77 0 0 1 .096-2.713s.839-.275 2.749 1.05a9.26 9.26 0 0 1 5.004 0c1.906-1.325 2.74-1.05 2.74-1.05.37.858.406 1.828.101 2.713a4.017 4.017 0 0 1 1.029 2.75c0 3.939-2.339 4.805-4.564 5.058a2.471 2.471 0 0 1 .679 1.897c0 1.372-.012 2.477-.012 2.814 0 .272.18.592.687.492a10.05 10.05 0 0 0 5.388-4.421 10.473 10.473 0 0 0 1.313-6.948 10.32 10.32 0 0 0-3.39-6.165A9.847 9.847 0 0 0 12.007 2Z" clip-rule="evenodd"></path></svg><span class="ml-1">Leaflet/Leaflet.markercluster</span></a></p></div></div></header><nav class="py-2"><span><a href="https://app.unpkg.com/leaflet.markercluster@1.4.1" class="text-blue-600 hover:underline">leaflet.markercluster</a></span><span> / </span><span><a href="https://app.unpkg.com/leaflet.markercluster@1.4.1/files/dist" class="text-blue-600 hover:underline">dist</a></span><span> / </span><span>leaflet.markercluster.js</span></nav><div class="p-3 border border-slate-300 bg-slate-100 text-sm flex justify-between select-none"><div class="w-64"><span><span>3 lines </span><span>â€¢ </span></span><span>33.7 kB</span></div><div class="hidden flex-grow sm:block text-center">JavaScript</div><div class="w-64 hidden sm:block text-right"><a href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js" class="py-1 px-2 border border-slate-300 bg-slate-100 hover:bg-slate-200 rounded-sm">View Raw</a></div></div><div data-hydrate="{&quot;key&quot;:&quot;CodeViewer&quot;,&quot;props&quot;:{&quot;html&quot;:&quot;!function(e,t){&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;object&amp;quot;&lt;/span>==typeof exports&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;undefined&amp;quot;&lt;/span>!=typeof module?t(exports):&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;function&amp;quot;&lt;/span>==typeof define&amp;amp;&amp;amp;define.amd?define([&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;exports&amp;quot;&lt;/span>],t):t((e.Leaflet=e.Leaflet||{},e.Leaflet.markercluster=e.Leaflet.markercluster||{}))}(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>,function(e){&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;use strict&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:&lt;span class=\&quot;hljs-number\&quot;>80&lt;/span>,iconCreateFunction:&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,showCoverageOnHover:!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,zoomToBoundsOnClick:!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,singleMarkerMode:!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,disableClusteringAtZoom:&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,removeOutsideVisibleBounds:!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,animate:!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,animateAddingMarkers:!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,spiderfyDistanceMultiplier:&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,spiderLegPolylineOptions:{weight:&lt;span class=\&quot;hljs-number\&quot;>1.5&lt;/span>,color:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;#222&amp;quot;&lt;/span>,opacity:&lt;span class=\&quot;hljs-number\&quot;>.5&lt;/span>},chunkedLoading:!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,chunkInterval:&lt;span class=\&quot;hljs-number\&quot;>200&lt;/span>,chunkDelay:&lt;span class=\&quot;hljs-number\&quot;>50&lt;/span>,chunkProgress:&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,polygonOptions:{}},initialize:function(e){L.Util.setOptions(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>,e),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.iconCreateFunction||(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.iconCreateFunction=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._defaultIconCreateFunction),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._featureGroup=L.featureGroup(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._featureGroup.addEventParent(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._nonPointGroup=L.featureGroup(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._nonPointGroup.addEventParent(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._inZoomAnimation=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsClustering=[],&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsRemoving=[],&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._currentShownBounds=&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._queue=[],&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childMarkerEventHandlers={dragstart:&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childMarkerDragStart,move:&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childMarkerMoved,dragend:&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childMarkerDragEnd};&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t=L.DomUtil.TRANSITION&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.animate;L.extend(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>,t?&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._withAnimation:&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._noAnimation),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._markerCluster=t?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(e instanceof L.LayerGroup)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.addLayers([e]);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!e.getLatLng)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._nonPointGroup.addLayer(e),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.fire(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;layeradd&amp;quot;&lt;/span>,{layer:e}),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsClustering.push(e),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.fire(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;layeradd&amp;quot;&lt;/span>,{layer:e}),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.hasLayer(e))&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._unspiderfy&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._unspiderfy(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._addLayer(e,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._maxZoom),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.fire(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;layeradd&amp;quot;&lt;/span>,{layer:e}),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel._recalculateBounds(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._refreshClustersIcons();&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t=e,i=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._zoom;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(e.__parent)&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(;t.__parent._zoom&amp;gt;=i;)t=t.__parent;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._currentShownBounds.contains(t.getLatLng())&amp;amp;&amp;amp;(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.animateAddingMarkers?&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._animationAddLayer(e,t):&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._animationAddLayerNonAnimated(e,t)),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>},removeLayer:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e instanceof L.LayerGroup?&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.removeLayers([e]):e.getLatLng?&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map?e.__parent?(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._unspiderfy&amp;amp;&amp;amp;(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._unspiderfy(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._unspiderfyLayer(e)),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._removeLayer(e,!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.fire(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;layerremove&amp;quot;&lt;/span>,{layer:e}),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel._recalculateBounds(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._refreshClustersIcons(),e.off(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childMarkerEventHandlers,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._featureGroup.hasLayer(e)&amp;amp;&amp;amp;(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._featureGroup.removeLayer(e),e.clusterShow&amp;amp;&amp;amp;e.clusterShow()),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>):&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>:(!&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._arraySplice(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsClustering,e)&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.hasLayer(e)&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsRemoving.push({layer:e,latlng:e._latlng}),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.fire(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;layerremove&amp;quot;&lt;/span>,{layer:e}),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>):(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._nonPointGroup.removeLayer(e),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.fire(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;layerremove&amp;quot;&lt;/span>,{layer:e}),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>)},addLayers:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!L.Util.isArray(e))&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.addLayer(e);&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i,n=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._featureGroup,r=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._nonPointGroup,s=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.chunkedLoading,o=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.chunkInterval,a=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.chunkProgress,h=e.length,l=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,u=!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> _=(new Date).getTime(),d=L.bind(function(){&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> c=(new Date).getTime();h&amp;gt;l;l++){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(s&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>===l%&lt;span class=\&quot;hljs-number\&quot;>200&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> p=(new Date).getTime()-c;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(p&amp;gt;o)&lt;span class=\&quot;hljs-keyword\&quot;>break&lt;/span>}&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(i=e[l],i instanceof L.LayerGroup)u&amp;amp;&amp;amp;(e=e.slice(),u=!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._extractNonGroupLayers(i,e),h=e.length;&lt;span class=\&quot;hljs-keyword\&quot;>else&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(i.getLatLng){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.hasLayer(i)&amp;amp;&amp;amp;(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._addLayer(i,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._maxZoom),t||&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.fire(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;layeradd&amp;quot;&lt;/span>,{layer:i}),i.__parent&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>===i.__parent.getChildCount())){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> f=i.__parent.getAllChildMarkers(),m=f[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]===i?f[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>]:f[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>];n.removeLayer(m)}}&lt;span class=\&quot;hljs-keyword\&quot;>else&lt;/span> r.addLayer(i),t||&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.fire(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;layeradd&amp;quot;&lt;/span>,{layer:i})}a&amp;amp;&amp;amp;a(l,h,(new Date).getTime()-_),l===h?(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel._recalculateBounds(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._refreshClustersIcons(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel._recursivelyAddChildrenToMap(&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._zoom,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._currentShownBounds)):setTimeout(d,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.chunkDelay)},&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>);d()}&lt;span class=\&quot;hljs-keyword\&quot;>else&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> c=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsClustering;h&amp;gt;l;l++)i=e[l],i instanceof L.LayerGroup?(u&amp;amp;&amp;amp;(e=e.slice(),u=!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._extractNonGroupLayers(i,e),h=e.length):i.getLatLng?&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.hasLayer(i)||c.push(i):r.addLayer(i);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>},removeLayers:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t,i,n=e.length,r=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._featureGroup,s=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._nonPointGroup,o=!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map){&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(t=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;n&amp;gt;t;t++)i=e[t],i instanceof L.LayerGroup?(o&amp;amp;&amp;amp;(e=e.slice(),o=!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._extractNonGroupLayers(i,e),n=e.length):(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._arraySplice(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsClustering,i),s.removeLayer(i),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.hasLayer(i)&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsRemoving.push({layer:i,latlng:i._latlng}),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.fire(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;layerremove&amp;quot;&lt;/span>,{layer:i}));&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>}&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._unspiderfy){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._unspiderfy();&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> a=e.slice(),h=n;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(t=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;h&amp;gt;t;t++)i=a[t],i instanceof L.LayerGroup?(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._extractNonGroupLayers(i,a),h=a.length):&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._unspiderfyLayer(i)}&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(t=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;n&amp;gt;t;t++)i=e[t],i instanceof L.LayerGroup?(o&amp;amp;&amp;amp;(e=e.slice(),o=!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._extractNonGroupLayers(i,e),n=e.length):i.__parent?(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._removeLayer(i,!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.fire(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;layerremove&amp;quot;&lt;/span>,{layer:i}),r.hasLayer(i)&amp;amp;&amp;amp;(r.removeLayer(i),i.clusterShow&amp;amp;&amp;amp;i.clusterShow())):(s.removeLayer(i),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.fire(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;layerremove&amp;quot;&lt;/span>,{layer:i}));&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel._recalculateBounds(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._refreshClustersIcons(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel._recursivelyAddChildrenToMap(&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._zoom,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._currentShownBounds),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>},clearLayers:function(){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map||(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsClustering=[],&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsRemoving=[],delete &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._gridClusters,delete &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._gridUnclustered),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._noanimationUnspiderfy&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._noanimationUnspiderfy(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._featureGroup.clearLayers(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._nonPointGroup.clearLayers(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.eachLayer(function(e){e.off(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childMarkerEventHandlers,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),delete e.__parent},&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._generateInitialClusters(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>},getBounds:function(){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> e=new L.LatLngBounds;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel&amp;amp;&amp;amp;e.extend(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel._bounds);&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsClustering.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;t&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;t--)e.extend(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsClustering[t].getLatLng());&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e.extend(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._nonPointGroup.getBounds()),e},eachLayer:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i,n,r,s=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsClustering.slice(),o=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsRemoving;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel.getAllChildMarkers(s),n=s.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;n&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;n--){&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(i=!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,r=o.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;r&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;r--)&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(o[r].layer===s[n]){i=!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>break&lt;/span>}i&amp;amp;&amp;amp;e.call(t,s[n])}&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._nonPointGroup.eachLayer(e,t)},getLayers:function(){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> e=[];&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.eachLayer(function(t){e.push(t)}),e},getLayer:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t=&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e=parseInt(e,&lt;span class=\&quot;hljs-number\&quot;>10&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.eachLayer(function(i){L.stamp(i)===e&amp;amp;&amp;amp;(t=i)}),t},hasLayer:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!e)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t,i=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsClustering;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(t=i.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;t&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;t--)&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(i[t]===e)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(i=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsRemoving,t=i.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;t&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;t--)&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(i[t].layer===e)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>!(!e.__parent||e.__parent._group!==&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>)||&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._nonPointGroup.hasLayer(e)},zoomToShowLayer:function(e,t){&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;function&amp;quot;&lt;/span>!=typeof t&amp;amp;&amp;amp;(t=function(){});&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i=function(){!e._icon&amp;amp;&amp;amp;!e.__parent._icon||&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._inZoomAnimation||(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.off(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;moveend&amp;quot;&lt;/span>,i,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.off(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;animationend&amp;quot;&lt;/span>,i,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),e._icon?t():e.__parent._icon&amp;amp;&amp;amp;(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.once(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;spiderfied&amp;quot;&lt;/span>,t,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),e.__parent.spiderfy()))};e._icon&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.getBounds().contains(e.getLatLng())?t():e.__parent._zoom&amp;lt;Math.round(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map._zoom)?(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.on(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;moveend&amp;quot;&lt;/span>,i,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.panTo(e.getLatLng())):(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.on(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;moveend&amp;quot;&lt;/span>,i,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.on(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;animationend&amp;quot;&lt;/span>,i,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),e.__parent.zoomToBounds())},onAdd:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map=e;&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t,i,n;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!isFinite(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.getMaxZoom()))&lt;span class=\&quot;hljs-keyword\&quot;>throw&lt;/span>&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;Map has no maxZoom specified&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._featureGroup.addTo(e),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._nonPointGroup.addTo(e),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._gridClusters||&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._generateInitialClusters(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._maxLat=e.options.crs.projection.MAX_LATITUDE,t=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,i=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsRemoving.length;i&amp;gt;t;t++)n=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsRemoving[t],n.newlatlng=n.layer._latlng,n.layer._latlng=n.latlng;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(t=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,i=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsRemoving.length;i&amp;gt;t;t++)n=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsRemoving[t],&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._removeLayer(n.layer,!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>),n.layer._latlng=n.newlatlng;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsRemoving=[],&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._zoom=Math.round(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map._zoom),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._currentShownBounds=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._getExpandedVisibleBounds(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.on(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;zoomend&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._zoomEnd,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.on(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;moveend&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._moveEnd,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._spiderfierOnAdd&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._spiderfierOnAdd(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._bindEvents(),i=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsClustering,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._needsClustering=[],&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.addLayers(i,!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)},onRemove:function(e){e.off(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;zoomend&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._zoomEnd,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),e.off(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;moveend&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._moveEnd,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._unbindEvents(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map._mapPane.className=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map._mapPane.className.replace(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; leaflet-cluster-anim&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._spiderfierOnRemove&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._spiderfierOnRemove(),delete &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._maxLat,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._hideCoverage(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._featureGroup.remove(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._nonPointGroup.remove(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._featureGroup.clearLayers(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map=&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>},getVisibleParent:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t=e;t&amp;amp;&amp;amp;!t._icon;)t=t.__parent;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t||&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>},_arraySplice:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i=e.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;i&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;i--)&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(e[i]===t)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e.splice(i,&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>),!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>},_removeFromGridUnclustered:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map,n=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._gridUnclustered,r=Math.floor(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.getMinZoom());t&amp;gt;=r&amp;amp;&amp;amp;n[t].removeObject(e,i.project(e.getLatLng(),t));t--);},_childMarkerDragStart:function(e){e.target.__dragStart=e.target._latlng},_childMarkerMoved:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._ignoreMove&amp;amp;&amp;amp;!e.target.__dragStart){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t=e.target._popup&amp;amp;&amp;amp;e.target._popup.isOpen();&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._moveChild(e.target,e.oldLatLng,e.latlng),t&amp;amp;&amp;amp;e.target.openPopup()}},_moveChild:function(e,t,i){e._latlng=t,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.removeLayer(e),e._latlng=i,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.addLayer(e)},_childMarkerDragEnd:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t=e.target.__dragStart;delete e.target.__dragStart,t&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._moveChild(e.target,t,e.target._latlng)},_removeLayer:function(e,t,i){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> n=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._gridClusters,r=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._gridUnclustered,s=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._featureGroup,o=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map,a=Math.floor(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.getMinZoom());t&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._removeFromGridUnclustered(e,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._maxZoom);&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> h,l=e.__parent,u=l._markers;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._arraySplice(u,e);l&amp;amp;&amp;amp;(l._childCount--,l._boundsNeedUpdate=!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,!(l._zoom&amp;lt;a));)t&amp;amp;&amp;amp;l._childCount&amp;lt;=&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>?(h=l._markers[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]===e?l._markers[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>]:l._markers[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>],n[l._zoom].removeObject(l,o.project(l._cLatLng,l._zoom)),r[l._zoom].addObject(h,o.project(h.getLatLng(),l._zoom)),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._arraySplice(l.__parent._childClusters,l),l.__parent._markers.push(h),h.__parent=l.__parent,l._icon&amp;amp;&amp;amp;(s.removeLayer(l),i||s.addLayer(h))):l._iconNeedsUpdate=!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,l=l.__parent;delete e.__parent},_isOrIsParent:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(;t;){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(e===t)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;t=t.parentNode}&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>},fire:function(e,t,i){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(t&amp;amp;&amp;amp;t.layer instanceof L.MarkerCluster){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(t.originalEvent&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>;e=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;cluster&amp;quot;&lt;/span>+e}L.FeatureGroup.prototype.fire.call(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>,e,t,i)},listens:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> L.FeatureGroup.prototype.listens.call(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>,e,t)||L.FeatureGroup.prototype.listens.call(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;cluster&amp;quot;&lt;/span>+e,t)},_defaultIconCreateFunction:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t=e.getChildCount(),i=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; marker-cluster-&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> i+=&lt;span class=\&quot;hljs-number\&quot;>10&lt;/span>&amp;gt;t?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;small&amp;quot;&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>100&lt;/span>&amp;gt;t?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;medium&amp;quot;&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;large&amp;quot;&lt;/span>,new L.DivIcon({html:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;lt;div&amp;gt;&amp;lt;span&amp;gt;&amp;quot;&lt;/span>+t+&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;quot;&lt;/span>,className:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;marker-cluster&amp;quot;&lt;/span>+i,iconSize:new L.Point(&lt;span class=\&quot;hljs-number\&quot;>40&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>40&lt;/span>)})},_bindEvents:function(){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> e=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map,t=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.spiderfyOnMaxZoom,i=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.showCoverageOnHover,n=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.zoomToBoundsOnClick;(t||n)&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.on(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;clusterclick&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._zoomOrSpiderfy,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),i&amp;amp;&amp;amp;(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.on(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;clustermouseover&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._showCoverage,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.on(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;clustermouseout&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._hideCoverage,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),e.on(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;zoomend&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._hideCoverage,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>))},_zoomOrSpiderfy:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t=e.layer,i=t;&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>===i._childClusters.length;)i=i._childClusters[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>];i._zoom===&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._maxZoom&amp;amp;&amp;amp;i._childCount===t._childCount&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.spiderfyOnMaxZoom?t.spiderfy():&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.zoomToBoundsOnClick&amp;amp;&amp;amp;t.zoomToBounds(),e.originalEvent&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-number\&quot;>13&lt;/span>===e.originalEvent.keyCode&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map._container.focus()},_showCoverage:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._inZoomAnimation||(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._shownPolygon&amp;amp;&amp;amp;t.removeLayer(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._shownPolygon),e.layer.getChildCount()&amp;gt;&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>&amp;amp;&amp;amp;e.layer!==&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._spiderfied&amp;amp;&amp;amp;(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._shownPolygon=new L.Polygon(e.layer.getConvexHull(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.polygonOptions),t.addLayer(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._shownPolygon)))},_hideCoverage:function(){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._shownPolygon&amp;amp;&amp;amp;(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.removeLayer(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._shownPolygon),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._shownPolygon=&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>)},_unbindEvents:function(){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> e=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.spiderfyOnMaxZoom,t=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.showCoverageOnHover,i=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.zoomToBoundsOnClick,n=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map;(e||i)&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.off(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;clusterclick&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._zoomOrSpiderfy,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),t&amp;amp;&amp;amp;(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.off(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;clustermouseover&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._showCoverage,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.off(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;clustermouseout&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._hideCoverage,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),n.off(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;zoomend&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._hideCoverage,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>))},_zoomEnd:function(){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map&amp;amp;&amp;amp;(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._mergeSplitClusters(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._zoom=Math.round(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map._zoom),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._currentShownBounds=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._getExpandedVisibleBounds())},_moveEnd:function(){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._inZoomAnimation){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> e=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._getExpandedVisibleBounds();&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel._recursivelyRemoveChildrenFromMap(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._currentShownBounds,Math.floor(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.getMinZoom()),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._zoom,e),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel._recursivelyAddChildrenToMap(&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,Math.round(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map._zoom),e),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._currentShownBounds=e}},_generateInitialClusters:function(){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> e=Math.ceil(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.getMaxZoom()),t=Math.floor(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.getMinZoom()),i=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.maxClusterRadius,n=i;&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;function&amp;quot;&lt;/span>!=typeof i&amp;amp;&amp;amp;(n=function(){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> i}),&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>!==&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.disableClusteringAtZoom&amp;amp;&amp;amp;(e=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.disableClusteringAtZoom-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._maxZoom=e,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._gridClusters={},&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._gridUnclustered={};&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> r=e;r&amp;gt;=t;r--)&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._gridClusters[r]=new L.DistanceGrid(n(r)),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._gridUnclustered[r]=new L.DistanceGrid(n(r));&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel=new &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._markerCluster(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>,t-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>)},_addLayer:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i,n,r=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._gridClusters,s=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._gridUnclustered,o=Math.floor(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.getMinZoom());&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.singleMarkerMode&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._overrideMarkerIcon(e),e.on(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childMarkerEventHandlers,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>);t&amp;gt;=o;t--){i=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.project(e.getLatLng(),t);&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> a=r[t].getNearObject(i);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(a)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> a._addChild(e),e.__parent=a,void &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(a=s[t].getNearObject(i)){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> h=a.__parent;h&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._removeLayer(a,!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> l=new &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._markerCluster(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>,t,a,e);r[t].addObject(l,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.project(l._cLatLng,t)),a.__parent=l,e.__parent=l;&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> u=l;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(n=t-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;n&amp;gt;h._zoom;n--)u=new &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._markerCluster(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>,n,u),r[n].addObject(u,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.project(a.getLatLng(),n));&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> h._addChild(u),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._removeFromGridUnclustered(a,t),void &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>}s[t].addObject(e,i)}&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel._addChild(e),e.__parent=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel},_refreshClustersIcons:function(){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._featureGroup.eachLayer(function(e){e instanceof L.MarkerCluster&amp;amp;&amp;amp;e._iconNeedsUpdate&amp;amp;&amp;amp;e._updateIcon()})},_enqueue:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._queue.push(e),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._queueTimeout||(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._queueTimeout=setTimeout(L.bind(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._processQueue,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-number\&quot;>300&lt;/span>))},_processQueue:function(){&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> e=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;e&amp;lt;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._queue.length;e++)&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._queue[e].call(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._queue.length=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,clearTimeout(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._queueTimeout),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._queueTimeout=&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>},_mergeSplitClusters:function(){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> e=Math.round(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map._zoom);&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._processQueue(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._zoom&amp;lt;e&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._currentShownBounds.intersects(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._getExpandedVisibleBounds())?(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._animationStart(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel._recursivelyRemoveChildrenFromMap(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._currentShownBounds,Math.floor(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.getMinZoom()),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._zoom,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._getExpandedVisibleBounds()),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._animationZoomIn(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._zoom,e)):&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._zoom&amp;gt;e?(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._animationStart(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._animationZoomOut(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._zoom,e)):&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._moveEnd()},_getExpandedVisibleBounds:function(){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.removeOutsideVisibleBounds?L.Browser.mobile?&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._checkBoundsMaxLat(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.getBounds()):&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._checkBoundsMaxLat(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.getBounds().pad(&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>)):&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._mapBoundsInfinite},_checkBoundsMaxLat:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._maxLat;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> void &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>!==t&amp;amp;&amp;amp;(e.getNorth()&amp;gt;=t&amp;amp;&amp;amp;(e._northEast.lat=&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>/&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>),e.getSouth()&amp;lt;=-t&amp;amp;&amp;amp;(e._southWest.lat=-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>/&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)),e},_animationAddLayerNonAnimated:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(t===e)&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._featureGroup.addLayer(e);&lt;span class=\&quot;hljs-keyword\&quot;>else&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>===t._childCount){t._addToMap();&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i=t.getAllChildMarkers();&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._featureGroup.removeLayer(i[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._featureGroup.removeLayer(i[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>])}&lt;span class=\&quot;hljs-keyword\&quot;>else&lt;/span> t._updateIcon()},_extractNonGroupLayers:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i,n=e.getLayers(),r=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(t=t||[];r&amp;lt;n.length;r++)i=n[r],i instanceof L.LayerGroup?&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._extractNonGroupLayers(i,t):t.push(i);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t},_overrideMarkerIcon:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t=e.options.icon=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.iconCreateFunction({getChildCount:function(){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>},getAllChildMarkers:function(){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>[e]}});&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>/&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>/&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>),new L.LatLng(&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>/&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>/&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel._recursivelyRemoveChildrenFromMap(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._currentShownBounds,Math.floor(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.getMinZoom()),e),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel._recursivelyAddChildrenToMap(&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,t,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._getExpandedVisibleBounds()),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.fire(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;animationend&amp;quot;&lt;/span>)},_animationZoomOut:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel._recursivelyRemoveChildrenFromMap(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._currentShownBounds,Math.floor(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.getMinZoom()),e),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel._recursivelyAddChildrenToMap(&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,t,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._getExpandedVisibleBounds()),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.fire(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;animationend&amp;quot;&lt;/span>)},_animationAddLayer:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._animationAddLayerNonAnimated(e,t)}},_withAnimation:{_animationStart:function(){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map._mapPane.className+=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; leaflet-cluster-anim&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._inZoomAnimation++},_animationZoomIn:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i,n=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._getExpandedVisibleBounds(),r=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._featureGroup,s=Math.floor(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.getMinZoom());&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._ignoreMove=!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel._recursively(n,e,s,function(s){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> o,a=s._latlng,h=s._markers;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(n.contains(a)||(a=&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>),s._isSingleParent()&amp;amp;&amp;amp;e+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>===t?(r.removeLayer(s),s._recursivelyAddChildrenToMap(&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,t,n)):(s.clusterHide(),s._recursivelyAddChildrenToMap(a,t,n)),i=h.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;i&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;i--)o=h[i],n.contains(o._latlng)||r.removeLayer(o)}),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._forceLayout(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel._recursivelyBecomeVisible(n,t),r.eachLayer(function(e){e instanceof L.MarkerCluster||!e._icon||e.clusterShow()}),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel._recursively(n,e,t,function(e){e._recursivelyRestoreChildPositions(t)}),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._ignoreMove=!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._enqueue(function(){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel._recursively(n,e,s,function(e){r.removeLayer(e),e.clusterShow()}),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._animationEnd()})},_animationZoomOut:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._animationZoomOutSingle(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel,e-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,t),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel._recursivelyAddChildrenToMap(&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,t,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._getExpandedVisibleBounds()),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel._recursivelyRemoveChildrenFromMap(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._currentShownBounds,Math.floor(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.getMinZoom()),e,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._getExpandedVisibleBounds())},_animationAddLayer:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>,n=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._featureGroup;n.addLayer(e),t!==e&amp;amp;&amp;amp;(t._childCount&amp;gt;&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>?(t._updateIcon(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._forceLayout(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._animationStart(),e._setPos(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.latLngToLayerPoint(t.getLatLng())),e.clusterHide(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._enqueue(function(){n.removeLayer(e),e.clusterShow(),i._animationEnd()})):(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._forceLayout(),i._animationStart(),i._animationZoomOutSingle(t,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.getMaxZoom(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._zoom)))}},_animationZoomOutSingle:function(e,t,i){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> n=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._getExpandedVisibleBounds(),r=Math.floor(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.getMinZoom());e._recursivelyAnimateChildrenInAndAddSelfToMap(n,r,t+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,i);&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> s=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._forceLayout(),e._recursivelyBecomeVisible(n,i),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._enqueue(function(){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>===e._childCount){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> o=e._markers[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>];&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._ignoreMove=!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,o.setLatLng(o.getLatLng()),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._ignoreMove=!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,o.clusterShow&amp;amp;&amp;amp;o.clusterShow()}&lt;span class=\&quot;hljs-keyword\&quot;>else&lt;/span> e._recursively(n,i,r,function(e){e._recursivelyRemoveChildrenFromMap(n,r,t+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>)});s._animationEnd()})},_animationEnd:function(){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map&amp;amp;&amp;amp;(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map._mapPane.className=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map._mapPane.className.replace(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; leaflet-cluster-anim&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>)),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._inZoomAnimation--,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.fire(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;animationend&amp;quot;&lt;/span>)},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(e){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> new L.MarkerClusterGroup(e)};&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(e,t,i,n){L.Marker.prototype.initialize.call(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>,i?i._cLatLng||i.getLatLng():new L.LatLng(&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>),{icon:&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>,pane:e.options.clusterPane}),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group=e,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._zoom=t,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._markers=[],&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childClusters=[],&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childCount=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._iconNeedsUpdate=!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._boundsNeedUpdate=!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._bounds=new L.LatLngBounds,i&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._addChild(i),n&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._addChild(n)},getAllChildMarkers:function(e,t){e=e||[];&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childClusters.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;i&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;i--)&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childClusters[i].getAllChildMarkers(e);&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> n=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._markers.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;n&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;n--)t&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._markers[n].__dragStart||e.push(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._markers[n]);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e},getChildCount:function(){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childCount},zoomToBounds:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t,i=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childClusters.slice(),n=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group._map,r=n.getBoundsZoom(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._bounds),s=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._zoom+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,o=n.getZoom();i.length&amp;gt;&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>&amp;amp;&amp;amp;r&amp;gt;s;){s++;&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> a=[];&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(t=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;t&amp;lt;i.length;t++)a=a.concat(i[t]._childClusters);i=a}r&amp;gt;s?&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group._map.setView(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._latlng,s):o&amp;gt;=r?&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group._map.setView(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._latlng,o+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>):&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group._map.fitBounds(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._bounds,e)},getBounds:function(){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> e=new L.LatLngBounds;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e.extend(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._bounds),e},_updateIcon:function(){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._iconNeedsUpdate=!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._icon&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.setIcon(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>)},createIcon:function(){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._iconNeedsUpdate&amp;amp;&amp;amp;(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._iconObj=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group.options.iconCreateFunction(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._iconNeedsUpdate=!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._iconObj.createIcon()},createShadow:function(){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._iconObj.createShadow()},_addChild:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._iconNeedsUpdate=!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._boundsNeedUpdate=!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._setClusterCenter(e),e instanceof L.MarkerCluster?(t||(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childClusters.push(e),e.__parent=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childCount+=e._childCount):(t||&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._markers.push(e),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childCount++),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.__parent&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.__parent._addChild(e,!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)},_setClusterCenter:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._cLatLng||(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._cLatLng=e._cLatLng||e._latlng)},_resetBounds:function(){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> e=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._bounds;e._southWest&amp;amp;&amp;amp;(e._southWest.lat=&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>/&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,e._southWest.lng=&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>/&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>),e._northEast&amp;amp;&amp;amp;(e._northEast.lat=-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>/&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,e._northEast.lng=-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>/&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)},_recalculateBounds:function(){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> e,t,i,n,r=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._markers,s=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childClusters,o=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,a=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,h=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childCount;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>!==h){&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._resetBounds(),e=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;e&amp;lt;r.length;e++)i=r[e]._latlng,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._bounds.extend(i),o+=i.lat,a+=i.lng;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(e=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;e&amp;lt;s.length;e++)t=s[e],t._boundsNeedUpdate&amp;amp;&amp;amp;t._recalculateBounds(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._bounds.extend(t._bounds),i=t._wLatLng,n=t._childCount,o+=i.lat*n,a+=i.lng*n;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._latlng=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._wLatLng=new L.LatLng(o/h,a/h),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._boundsNeedUpdate=!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>}},_addToMap:function(e){e&amp;amp;&amp;amp;(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._backupLatlng=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._latlng,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.setLatLng(e)),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group._featureGroup.addLayer(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>)},_recursivelyAnimateChildrenIn:function(e,t,i){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._recursively(e,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group._map.getMinZoom(),i-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,function(e){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i,n,r=e._markers;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(i=r.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;i&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;i--)n=r[i],n._icon&amp;amp;&amp;amp;(n._setPos(t),n.clusterHide())},function(e){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i,n,r=e._childClusters;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(i=r.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;i&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;i--)n=r[i],n._icon&amp;amp;&amp;amp;(n._setPos(t),n.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,t,i,n){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._recursively(e,n,t,function(r){r._recursivelyAnimateChildrenIn(e,r._group._map.latLngToLayerPoint(r.getLatLng()).round(),i),r._isSingleParent()&amp;amp;&amp;amp;i-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>===n?(r.clusterShow(),r._recursivelyRemoveChildrenFromMap(e,t,i)):r.clusterHide(),r._addToMap()})},_recursivelyBecomeVisible:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._recursively(e,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group._map.getMinZoom(),t,&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,function(e){e.clusterShow()})},_recursivelyAddChildrenToMap:function(e,t,i){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._recursively(i,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group._map.getMinZoom()-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,t,function(n){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(t!==n._zoom)&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> r=n._markers.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;r&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;r--){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> s=n._markers[r];i.contains(s._latlng)&amp;amp;&amp;amp;(e&amp;amp;&amp;amp;(s._backupLatlng=s.getLatLng(),s.setLatLng(e),s.clusterHide&amp;amp;&amp;amp;s.clusterHide()),n._group._featureGroup.addLayer(s))}},function(t){t._addToMap(e)})},_recursivelyRestoreChildPositions:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._markers.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;t&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;t--){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._markers[t];i._backupLatlng&amp;amp;&amp;amp;(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(e-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>===&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._zoom)&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> n=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childClusters.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;n&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;n--)&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childClusters[n]._restorePosition();&lt;span class=\&quot;hljs-keyword\&quot;>else&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> r=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childClusters.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;r&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;r--)&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childClusters[r]._recursivelyRestoreChildPositions(e)},_restorePosition:function(){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._backupLatlng&amp;amp;&amp;amp;(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.setLatLng(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._backupLatlng),delete &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(e,t,i,n){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> r,s;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._recursively(e,t-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,i-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,function(e){&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(s=e._markers.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;s&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;s--)r=e._markers[s],n&amp;amp;&amp;amp;n.contains(r._latlng)||(e._group._featureGroup.removeLayer(r),r.clusterShow&amp;amp;&amp;amp;r.clusterShow())},function(e){&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(s=e._childClusters.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;s&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;s--)r=e._childClusters[s],n&amp;amp;&amp;amp;n.contains(r._latlng)||(e._group._featureGroup.removeLayer(r),r.clusterShow&amp;amp;&amp;amp;r.clusterShow())})},_recursively:function(e,t,i,n,r){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> s,o,a=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childClusters,h=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._zoom;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(h&amp;gt;=t&amp;amp;&amp;amp;(n&amp;amp;&amp;amp;n(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),r&amp;amp;&amp;amp;h===i&amp;amp;&amp;amp;r(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>)),t&amp;gt;h||i&amp;gt;h)&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(s=a.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;s&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;s--)o=a[s],o._boundsNeedUpdate&amp;amp;&amp;amp;o._recalculateBounds(),e.intersects(o._bounds)&amp;amp;&amp;amp;o._recursively(e,t,i,n,r)},_isSingleParent:function(){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childClusters.length&amp;gt;&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childClusters[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]._childCount===&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._childCount}});L.Marker.include({clusterHide:function(){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> e=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.opacity;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.setOpacity(&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.opacity=e,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>},clusterShow:function(){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.setOpacity(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.opacity)}}),L.DistanceGrid=function(e){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._cellSize=e,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._sqCellSize=e*e,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._grid={},&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._objectPoint={}},L.DistanceGrid.prototype={addObject:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._getCoord(t.x),n=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._getCoord(t.y),r=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._grid,s=r[n]=r[n]||{},o=s[i]=s[i]||[],a=L.Util.stamp(e);&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._objectPoint[a]=t,o.push(e)},updateObject:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.removeObject(e),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.addObject(e,t)},removeObject:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i,n,r=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._getCoord(t.x),s=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._getCoord(t.y),o=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._grid,a=o[s]=o[s]||{},h=a[r]=a[r]||[];&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(delete &lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._objectPoint[L.Util.stamp(e)],i=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,n=h.length;n&amp;gt;i;i++)&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(h[i]===e)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> h.splice(i,&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>),&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>===n&amp;amp;&amp;amp;delete a[r],!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>},eachObject:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i,n,r,s,o,a,h,l=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._grid;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(i &lt;span class=\&quot;hljs-keyword\&quot;>in&lt;/span> l){o=l[i];&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(n &lt;span class=\&quot;hljs-keyword\&quot;>in&lt;/span> o)&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(a=o[n],r=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,s=a.length;s&amp;gt;r;r++)h=e.call(t,a[r]),h&amp;amp;&amp;amp;(r--,s--)}},getNearObject:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t,i,n,r,s,o,a,h,l=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._getCoord(e.x),u=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._getCoord(e.y),_=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._objectPoint,d=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._sqCellSize,c=&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(t=u-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;u+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>&amp;gt;=t;t++)&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(r=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._grid[t])&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(i=l-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;l+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>&amp;gt;=i;i++)&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(s=r[i])&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(n=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,o=s.length;o&amp;gt;n;n++)a=s[n],h=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._sqDist(_[L.Util.stamp(a)],e),(d&amp;gt;h||d&amp;gt;=h&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>===c)&amp;amp;&amp;amp;(d=h,c=a);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> c},_getCoord:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t=Math.floor(e/&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._cellSize);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> isFinite(t)?t:e},_sqDist:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i=t.x-e.x,n=t.y-e.y;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> i*i+n*n}},function(){L.QuickHull={getDistant:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i=t[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>].lat-t[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>].lat,n=t[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>].lng-t[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>].lng;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n*(e.lat-t[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>].lat)+i*(e.lng-t[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>].lng)},findMostDistantPointFromBaseLine:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i,n,r,s=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,o=&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,a=[];&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(i=t.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;i&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;i--)n=t[i],r=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.getDistant(n,e),r&amp;gt;&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>&amp;amp;&amp;amp;(a.push(n),r&amp;gt;s&amp;amp;&amp;amp;(s=r,o=n));&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>{maxPoint:o,newPoints:a}},buildConvexHull:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i=[],n=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.findMostDistantPointFromBaseLine(e,t);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n.maxPoint?(i=i.concat(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.buildConvexHull([e[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>],n.maxPoint],n.newPoints)),i=i.concat(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.buildConvexHull([n.maxPoint,e[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>]],n.newPoints))):[e[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]]},getConvexHull:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t,i=!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,n=!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,r=!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,s=!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,o=&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,a=&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,h=&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,l=&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,u=&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,_=&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(t=e.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;t&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;t--){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> d=e[t];(i===!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>||d.lat&amp;gt;i)&amp;amp;&amp;amp;(o=d,i=d.lat),(n===!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>||d.lat&amp;lt;n)&amp;amp;&amp;amp;(a=d,n=d.lat),(r===!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>||d.lng&amp;gt;r)&amp;amp;&amp;amp;(h=d,r=d.lng),(s===!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>||d.lng&amp;lt;s)&amp;amp;&amp;amp;(l=d,s=d.lng)}n!==i?(_=a,u=o):(_=l,u=h);&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> c=[].concat(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.buildConvexHull([_,u],e),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.buildConvexHull([u,_],e));&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> c}}}(),L.MarkerCluster.include({getConvexHull:function(){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> e,t,i=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.getAllChildMarkers(),n=[];&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(t=i.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;t&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;t--)e=i[t].getLatLng(),n.push(e);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> L.QuickHull.getConvexHull(n)}}),L.MarkerCluster.include({_2PI:&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>*Math.PI,_circleFootSeparation:&lt;span class=\&quot;hljs-number\&quot;>25&lt;/span>,_circleStartAngle:&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,_spiralFootSeparation:&lt;span class=\&quot;hljs-number\&quot;>28&lt;/span>,_spiralLengthStart:&lt;span class=\&quot;hljs-number\&quot;>11&lt;/span>,_spiralLengthFactor:&lt;span class=\&quot;hljs-number\&quot;>5&lt;/span>,_circleSpiralSwitchover:&lt;span class=\&quot;hljs-number\&quot;>9&lt;/span>,spiderfy:function(){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group._spiderfied!==&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>&amp;amp;&amp;amp;!&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group._inZoomAnimation){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> e,t=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.getAllChildMarkers(&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>),i=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group,n=i._map,r=n.latLngToLayerPoint(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._latlng);&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group._unspiderfy(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group._spiderfied=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>,t.length&amp;gt;=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._circleSpiralSwitchover?e=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._generatePointsSpiral(t.length,r):(r.y+=&lt;span class=\&quot;hljs-number\&quot;>10&lt;/span>,e=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._generatePointsCircle(t.length,r)),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._animationSpiderfy(t,e)}},unspiderfy:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group._inZoomAnimation||(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._animationUnspiderfy(e),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group._spiderfied=&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>)},_generatePointsCircle:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i,n,r=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group.options.spiderfyDistanceMultiplier*&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._circleFootSeparation*(&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>+e),s=r/&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._2PI,o=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._2PI/e,a=[];&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(s=Math.max(s,&lt;span class=\&quot;hljs-number\&quot;>35&lt;/span>),a.length=e,i=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;e&amp;gt;i;i++)n=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._circleStartAngle+i*o,a[i]=new L.Point(t.x+s*Math.cos(n),t.y+s*Math.sin(n))._round();&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> a},_generatePointsSpiral:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i,n=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group.options.spiderfyDistanceMultiplier,r=n*&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._spiralLengthStart,s=n*&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._spiralFootSeparation,o=n*&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._spiralLengthFactor*&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._2PI,a=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,h=[];&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(h.length=e,i=e;i&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;i--)e&amp;gt;i&amp;amp;&amp;amp;(h[i]=new L.Point(t.x+r*Math.cos(a),t.y+r*Math.sin(a))._round()),a+=s/r+&lt;span class=\&quot;hljs-number\&quot;>5e-4&lt;/span>*i,r+=o/a;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> h},_noanimationUnspiderfy:function(){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> e,t,i=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group,n=i._map,r=i._featureGroup,s=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.getAllChildMarkers(&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(i._ignoreMove=!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.setOpacity(&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>),t=s.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;t&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;t--)e=s[t],r.removeLayer(e),e._preSpiderfyLatlng&amp;amp;&amp;amp;(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng),e.setZIndexOffset&amp;amp;&amp;amp;e.setZIndexOffset(&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>),e._spiderLeg&amp;amp;&amp;amp;(n.removeLayer(e._spiderLeg),delete e._spiderLeg);i.fire(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;unspiderfied&amp;quot;&lt;/span>,{cluster:&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>,markers:s}),i._ignoreMove=!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,i._spiderfied=&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i,n,r,s,o=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group,a=o._map,h=o._featureGroup,l=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group.options.spiderLegPolylineOptions;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(o._ignoreMove=!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,i=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;i&amp;lt;e.length;i++)s=a.layerPointToLatLng(t[i]),n=e[i],r=new L.Polyline([&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._latlng,s],l),a.addLayer(r),n._spiderLeg=r,n._preSpiderfyLatlng=n._latlng,n.setLatLng(s),n.setZIndexOffset&amp;amp;&amp;amp;n.setZIndexOffset(&lt;span class=\&quot;hljs-number\&quot;>1e6&lt;/span>),h.addLayer(n);&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.setOpacity(&lt;span class=\&quot;hljs-number\&quot;>.3&lt;/span>),o._ignoreMove=!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,o.fire(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;spiderfied&amp;quot;&lt;/span>,{cluster:&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>,markers:e})},_animationUnspiderfy:function(){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i,n,r,s,o,a,h=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>,l=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group,u=l._map,_=l._featureGroup,d=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._latlng,c=u.latLngToLayerPoint(d),p=L.Path.SVG,f=L.extend({},&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group.options.spiderLegPolylineOptions),m=f.opacity;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(void &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>===m&amp;amp;&amp;amp;(m=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),p?(f.opacity=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,f.className=(f.className||&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>)+&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; leaflet-cluster-spider-leg&amp;quot;&lt;/span>):f.opacity=m,l._ignoreMove=!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,i=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;i&amp;lt;e.length;i++)n=e[i],a=u.layerPointToLatLng(t[i]),r=new L.Polyline([d,a],f),u.addLayer(r),n._spiderLeg=r,p&amp;amp;&amp;amp;(s=r._path,o=s.getTotalLength()+&lt;span class=\&quot;hljs-number\&quot;>.1&lt;/span>,s.style.strokeDasharray=o,s.style.strokeDashoffset=o),n.setZIndexOffset&amp;amp;&amp;amp;n.setZIndexOffset(&lt;span class=\&quot;hljs-number\&quot;>1e6&lt;/span>),n.clusterHide&amp;amp;&amp;amp;n.clusterHide(),_.addLayer(n),n._setPos&amp;amp;&amp;amp;n._setPos(c);&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(l._forceLayout(),l._animationStart(),i=e.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;i&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;i--)a=u.layerPointToLatLng(t[i]),n=e[i],n._preSpiderfyLatlng=n._latlng,n.setLatLng(a),n.clusterShow&amp;amp;&amp;amp;n.clusterShow(),p&amp;amp;&amp;amp;(r=n._spiderLeg,s=r._path,s.style.strokeDashoffset=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,r.setStyle({opacity:m}));&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.setOpacity(&lt;span class=\&quot;hljs-number\&quot;>.3&lt;/span>),l._ignoreMove=!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,setTimeout(function(){l._animationEnd(),l.fire(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;spiderfied&amp;quot;&lt;/span>,{cluster:h,markers:e})},&lt;span class=\&quot;hljs-number\&quot;>200&lt;/span>)},_animationUnspiderfy:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t,i,n,r,s,o,a=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>,h=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._group,l=h._map,u=h._featureGroup,_=e?l._latLngToNewLayerPoint(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._latlng,e.zoom,e.center):l.latLngToLayerPoint(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._latlng),d=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.getAllChildMarkers(&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>),c=L.Path.SVG;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(h._ignoreMove=!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,h._animationStart(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.setOpacity(&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>),i=d.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;i&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;i--)t=d[i],t._preSpiderfyLatlng&amp;amp;&amp;amp;(t.closePopup(),t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng,o=!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,t._setPos&amp;amp;&amp;amp;(t._setPos(_),o=!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>),t.clusterHide&amp;amp;&amp;amp;(t.clusterHide(),o=!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>),o&amp;amp;&amp;amp;u.removeLayer(t),c&amp;amp;&amp;amp;(n=t._spiderLeg,r=n._path,s=r.getTotalLength()+&lt;span class=\&quot;hljs-number\&quot;>.1&lt;/span>,r.style.strokeDashoffset=s,n.setStyle({opacity:&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>})));h._ignoreMove=!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,setTimeout(function(){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> e=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(i=d.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;i&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;i--)t=d[i],t._spiderLeg&amp;amp;&amp;amp;e++;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(i=d.length-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;i&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;i--)t=d[i],t._spiderLeg&amp;amp;&amp;amp;(t.clusterShow&amp;amp;&amp;amp;t.clusterShow(),t.setZIndexOffset&amp;amp;&amp;amp;t.setZIndexOffset(&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>),e&amp;gt;&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>&amp;amp;&amp;amp;u.removeLayer(t),l.removeLayer(t._spiderLeg),delete t._spiderLeg);h._animationEnd(),h.fire(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;unspiderfied&amp;quot;&lt;/span>,{cluster:a,markers:d})},&lt;span class=\&quot;hljs-number\&quot;>200&lt;/span>)}}),L.MarkerClusterGroup.include({_spiderfied:&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,unspiderfy:function(){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._unspiderfy.apply(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>,arguments)},_spiderfierOnAdd:function(){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.on(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;click&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._unspiderfyWrapper,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.options.zoomAnimation&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.on(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;zoomstart&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._unspiderfyZoomStart,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.on(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;zoomend&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._noanimationUnspiderfy,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),L.Browser.touch||&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.getRenderer(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>)},_spiderfierOnRemove:function(){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.off(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;click&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._unspiderfyWrapper,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.off(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;zoomstart&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._unspiderfyZoomStart,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.off(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;zoomanim&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._unspiderfyZoomAnim,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.off(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;zoomend&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._noanimationUnspiderfy,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._noanimationUnspiderfy()\n},_unspiderfyZoomStart:function(){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.on(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;zoomanim&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._unspiderfyZoomAnim,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>)},_unspiderfyZoomAnim:function(e){L.DomUtil.hasClass(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map._mapPane,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;leaflet-touching&amp;quot;&lt;/span>)||(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.off(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;zoomanim&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._unspiderfyZoomAnim,&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._unspiderfy(e))},_unspiderfyWrapper:function(){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._unspiderfy()},_unspiderfy:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._spiderfied&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._spiderfied.unspiderfy(e)},_noanimationUnspiderfy:function(){&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._spiderfied&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(e){e._spiderLeg&amp;amp;&amp;amp;(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._featureGroup.removeLayer(e),e.clusterShow&amp;amp;&amp;amp;e.clusterShow(),e.setZIndexOffset&amp;amp;&amp;amp;e.setZIndexOffset(&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._map.removeLayer(e._spiderLeg),delete e._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e?e instanceof L.MarkerClusterGroup?e=e._topClusterLevel.getAllChildMarkers():e instanceof L.LayerGroup?e=e._layers:e instanceof L.MarkerCluster?e=e.getAllChildMarkers():e instanceof L.Marker&amp;amp;&amp;amp;(e=[e]):e=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._topClusterLevel.getAllChildMarkers(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._flagParentsIconsNeedUpdate(e),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._refreshClustersIcons(),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.singleMarkerMode&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._refreshSingleMarkerModeMarkers(e),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>},_flagParentsIconsNeedUpdate:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t,i;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(t &lt;span class=\&quot;hljs-keyword\&quot;>in&lt;/span> e)&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(i=e[t].__parent;i;)i._iconNeedsUpdate=!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,i=i.__parent},_refreshSingleMarkerModeMarkers:function(e){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t,i;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(t &lt;span class=\&quot;hljs-keyword\&quot;>in&lt;/span> e)i=e[t],&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.hasLayer(i)&amp;amp;&amp;amp;i.setIcon(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>._overrideMarkerIcon(i))}}),L.Marker.include({refreshIconOptions:function(e,t){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> i=&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.options.icon;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> L.setOptions(i,e),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.setIcon(i),t&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.__parent&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>.__parent._group.refreshClusters(&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>this&lt;/span>}}),e.MarkerClusterGroup=t,e.MarkerCluster=i});\n&lt;span class=\&quot;hljs-comment\&quot;>//# sourceMappingURL=leaflet.markercluster.js.map&lt;/span>&quot;,&quot;numLines&quot;:3}}"><div class="flex relative bg-white font-mono text-sm leading-6"><div class="py-4 border-b border-x border-slate-300 bg-slate-100 text-right select-none"><div><div class="relative"><a id="L1" href="#L1" class="inline-block w-full pl-4 sm:pl-6 pr-2 text-slate-600 hover:text-slate-950 outline-none">1</a></div></div><div><div class="relative"><a id="L2" href="#L2" class="inline-block w-full pl-4 sm:pl-6 pr-2 text-slate-600 hover:text-slate-950 outline-none">2</a></div></div><div><div class="relative"><a id="L3" href="#L3" class="inline-block w-full pl-4 sm:pl-6 pr-2 text-slate-600 hover:text-slate-950 outline-none">3</a></div></div></div><div class="py-4 pl-4 pr-6 relative border-b border-r border-slate-300 flex-grow whitespace-pre overflow-x-auto" style="tab-size:2;">!function(e,t){<span class="hljs-string">&quot;object&quot;</span>==typeof exports&amp;&amp;<span class="hljs-string">&quot;undefined&quot;</span>!=typeof module?t(exports):<span class="hljs-string">&quot;function&quot;</span>==typeof define&amp;&amp;define.amd?define([<span class="hljs-string">&quot;exports&quot;</span>],t):t((e.Leaflet=e.Leaflet||{},e.Leaflet.markercluster=e.Leaflet.markercluster||{}))}(<span class="hljs-keyword">this</span>,function(e){<span class="hljs-string">&quot;use strict&quot;</span>;<span class="hljs-keyword">var</span> t=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:<span class="hljs-number">80</span>,iconCreateFunction:<span class="hljs-literal">null</span>,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!<span class="hljs-number">0</span>,showCoverageOnHover:!<span class="hljs-number">0</span>,zoomToBoundsOnClick:!<span class="hljs-number">0</span>,singleMarkerMode:!<span class="hljs-number">1</span>,disableClusteringAtZoom:<span class="hljs-literal">null</span>,removeOutsideVisibleBounds:!<span class="hljs-number">0</span>,animate:!<span class="hljs-number">0</span>,animateAddingMarkers:!<span class="hljs-number">1</span>,spiderfyDistanceMultiplier:<span class="hljs-number">1</span>,spiderLegPolylineOptions:{weight:<span class="hljs-number">1.5</span>,color:<span class="hljs-string">&quot;#222&quot;</span>,opacity:<span class="hljs-number">.5</span>},chunkedLoading:!<span class="hljs-number">1</span>,chunkInterval:<span class="hljs-number">200</span>,chunkDelay:<span class="hljs-number">50</span>,chunkProgress:<span class="hljs-literal">null</span>,polygonOptions:{}},initialize:function(e){L.Util.setOptions(<span class="hljs-keyword">this</span>,e),<span class="hljs-keyword">this</span>.options.iconCreateFunction||(<span class="hljs-keyword">this</span>.options.iconCreateFunction=<span class="hljs-keyword">this</span>._defaultIconCreateFunction),<span class="hljs-keyword">this</span>._featureGroup=L.featureGroup(),<span class="hljs-keyword">this</span>._featureGroup.addEventParent(<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>._nonPointGroup=L.featureGroup(),<span class="hljs-keyword">this</span>._nonPointGroup.addEventParent(<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>._inZoomAnimation=<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>._needsClustering=[],<span class="hljs-keyword">this</span>._needsRemoving=[],<span class="hljs-keyword">this</span>._currentShownBounds=<span class="hljs-literal">null</span>,<span class="hljs-keyword">this</span>._queue=[],<span class="hljs-keyword">this</span>._childMarkerEventHandlers={dragstart:<span class="hljs-keyword">this</span>._childMarkerDragStart,move:<span class="hljs-keyword">this</span>._childMarkerMoved,dragend:<span class="hljs-keyword">this</span>._childMarkerDragEnd};<span class="hljs-keyword">var</span> t=L.DomUtil.TRANSITION&amp;&amp;<span class="hljs-keyword">this</span>.options.animate;L.extend(<span class="hljs-keyword">this</span>,t?<span class="hljs-keyword">this</span>._withAnimation:<span class="hljs-keyword">this</span>._noAnimation),<span class="hljs-keyword">this</span>._markerCluster=t?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(e){<span class="hljs-keyword">if</span>(e instanceof L.LayerGroup)<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.addLayers([e]);<span class="hljs-keyword">if</span>(!e.getLatLng)<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._nonPointGroup.addLayer(e),<span class="hljs-keyword">this</span>.fire(<span class="hljs-string">&quot;layeradd&quot;</span>,{layer:e}),<span class="hljs-keyword">this</span>;<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>._map)<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._needsClustering.push(e),<span class="hljs-keyword">this</span>.fire(<span class="hljs-string">&quot;layeradd&quot;</span>,{layer:e}),<span class="hljs-keyword">this</span>;<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.hasLayer(e))<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;<span class="hljs-keyword">this</span>._unspiderfy&amp;&amp;<span class="hljs-keyword">this</span>._unspiderfy(),<span class="hljs-keyword">this</span>._addLayer(e,<span class="hljs-keyword">this</span>._maxZoom),<span class="hljs-keyword">this</span>.fire(<span class="hljs-string">&quot;layeradd&quot;</span>,{layer:e}),<span class="hljs-keyword">this</span>._topClusterLevel._recalculateBounds(),<span class="hljs-keyword">this</span>._refreshClustersIcons();<span class="hljs-keyword">var</span> t=e,i=<span class="hljs-keyword">this</span>._zoom;<span class="hljs-keyword">if</span>(e.__parent)<span class="hljs-keyword">for</span>(;t.__parent._zoom&gt;=i;)t=t.__parent;<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._currentShownBounds.contains(t.getLatLng())&amp;&amp;(<span class="hljs-keyword">this</span>.options.animateAddingMarkers?<span class="hljs-keyword">this</span>._animationAddLayer(e,t):<span class="hljs-keyword">this</span>._animationAddLayerNonAnimated(e,t)),<span class="hljs-keyword">this</span>},removeLayer:function(e){<span class="hljs-keyword">return</span> e instanceof L.LayerGroup?<span class="hljs-keyword">this</span>.removeLayers([e]):e.getLatLng?<span class="hljs-keyword">this</span>._map?e.__parent?(<span class="hljs-keyword">this</span>._unspiderfy&amp;&amp;(<span class="hljs-keyword">this</span>._unspiderfy(),<span class="hljs-keyword">this</span>._unspiderfyLayer(e)),<span class="hljs-keyword">this</span>._removeLayer(e,!<span class="hljs-number">0</span>),<span class="hljs-keyword">this</span>.fire(<span class="hljs-string">&quot;layerremove&quot;</span>,{layer:e}),<span class="hljs-keyword">this</span>._topClusterLevel._recalculateBounds(),<span class="hljs-keyword">this</span>._refreshClustersIcons(),e.off(<span class="hljs-keyword">this</span>._childMarkerEventHandlers,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>._featureGroup.hasLayer(e)&amp;&amp;(<span class="hljs-keyword">this</span>._featureGroup.removeLayer(e),e.clusterShow&amp;&amp;e.clusterShow()),<span class="hljs-keyword">this</span>):<span class="hljs-keyword">this</span>:(!<span class="hljs-keyword">this</span>._arraySplice(<span class="hljs-keyword">this</span>._needsClustering,e)&amp;&amp;<span class="hljs-keyword">this</span>.hasLayer(e)&amp;&amp;<span class="hljs-keyword">this</span>._needsRemoving.push({layer:e,latlng:e._latlng}),<span class="hljs-keyword">this</span>.fire(<span class="hljs-string">&quot;layerremove&quot;</span>,{layer:e}),<span class="hljs-keyword">this</span>):(<span class="hljs-keyword">this</span>._nonPointGroup.removeLayer(e),<span class="hljs-keyword">this</span>.fire(<span class="hljs-string">&quot;layerremove&quot;</span>,{layer:e}),<span class="hljs-keyword">this</span>)},addLayers:function(e,t){<span class="hljs-keyword">if</span>(!L.Util.isArray(e))<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.addLayer(e);<span class="hljs-keyword">var</span> i,n=<span class="hljs-keyword">this</span>._featureGroup,r=<span class="hljs-keyword">this</span>._nonPointGroup,s=<span class="hljs-keyword">this</span>.options.chunkedLoading,o=<span class="hljs-keyword">this</span>.options.chunkInterval,a=<span class="hljs-keyword">this</span>.options.chunkProgress,h=e.length,l=<span class="hljs-number">0</span>,u=!<span class="hljs-number">0</span>;<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>._map){<span class="hljs-keyword">var</span> _=(new Date).getTime(),d=L.bind(function(){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> c=(new Date).getTime();h&gt;l;l++){<span class="hljs-keyword">if</span>(s&amp;&amp;<span class="hljs-number">0</span>===l%<span class="hljs-number">200</span>){<span class="hljs-keyword">var</span> p=(new Date).getTime()-c;<span class="hljs-keyword">if</span>(p&gt;o)<span class="hljs-keyword">break</span>}<span class="hljs-keyword">if</span>(i=e[l],i instanceof L.LayerGroup)u&amp;&amp;(e=e.slice(),u=!<span class="hljs-number">1</span>),<span class="hljs-keyword">this</span>._extractNonGroupLayers(i,e),h=e.length;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(i.getLatLng){<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.hasLayer(i)&amp;&amp;(<span class="hljs-keyword">this</span>._addLayer(i,<span class="hljs-keyword">this</span>._maxZoom),t||<span class="hljs-keyword">this</span>.fire(<span class="hljs-string">&quot;layeradd&quot;</span>,{layer:i}),i.__parent&amp;&amp;<span class="hljs-number">2</span>===i.__parent.getChildCount())){<span class="hljs-keyword">var</span> f=i.__parent.getAllChildMarkers(),m=f[<span class="hljs-number">0</span>]===i?f[<span class="hljs-number">1</span>]:f[<span class="hljs-number">0</span>];n.removeLayer(m)}}<span class="hljs-keyword">else</span> r.addLayer(i),t||<span class="hljs-keyword">this</span>.fire(<span class="hljs-string">&quot;layeradd&quot;</span>,{layer:i})}a&amp;&amp;a(l,h,(new Date).getTime()-_),l===h?(<span class="hljs-keyword">this</span>._topClusterLevel._recalculateBounds(),<span class="hljs-keyword">this</span>._refreshClustersIcons(),<span class="hljs-keyword">this</span>._topClusterLevel._recursivelyAddChildrenToMap(<span class="hljs-literal">null</span>,<span class="hljs-keyword">this</span>._zoom,<span class="hljs-keyword">this</span>._currentShownBounds)):setTimeout(d,<span class="hljs-keyword">this</span>.options.chunkDelay)},<span class="hljs-keyword">this</span>);d()}<span class="hljs-keyword">else</span> <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> c=<span class="hljs-keyword">this</span>._needsClustering;h&gt;l;l++)i=e[l],i instanceof L.LayerGroup?(u&amp;&amp;(e=e.slice(),u=!<span class="hljs-number">1</span>),<span class="hljs-keyword">this</span>._extractNonGroupLayers(i,e),h=e.length):i.getLatLng?<span class="hljs-keyword">this</span>.hasLayer(i)||c.push(i):r.addLayer(i);<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>},removeLayers:function(e){<span class="hljs-keyword">var</span> t,i,n=e.length,r=<span class="hljs-keyword">this</span>._featureGroup,s=<span class="hljs-keyword">this</span>._nonPointGroup,o=!<span class="hljs-number">0</span>;<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>._map){<span class="hljs-keyword">for</span>(t=<span class="hljs-number">0</span>;n&gt;t;t++)i=e[t],i instanceof L.LayerGroup?(o&amp;&amp;(e=e.slice(),o=!<span class="hljs-number">1</span>),<span class="hljs-keyword">this</span>._extractNonGroupLayers(i,e),n=e.length):(<span class="hljs-keyword">this</span>._arraySplice(<span class="hljs-keyword">this</span>._needsClustering,i),s.removeLayer(i),<span class="hljs-keyword">this</span>.hasLayer(i)&amp;&amp;<span class="hljs-keyword">this</span>._needsRemoving.push({layer:i,latlng:i._latlng}),<span class="hljs-keyword">this</span>.fire(<span class="hljs-string">&quot;layerremove&quot;</span>,{layer:i}));<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>}<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>._unspiderfy){<span class="hljs-keyword">this</span>._unspiderfy();<span class="hljs-keyword">var</span> a=e.slice(),h=n;<span class="hljs-keyword">for</span>(t=<span class="hljs-number">0</span>;h&gt;t;t++)i=a[t],i instanceof L.LayerGroup?(<span class="hljs-keyword">this</span>._extractNonGroupLayers(i,a),h=a.length):<span class="hljs-keyword">this</span>._unspiderfyLayer(i)}<span class="hljs-keyword">for</span>(t=<span class="hljs-number">0</span>;n&gt;t;t++)i=e[t],i instanceof L.LayerGroup?(o&amp;&amp;(e=e.slice(),o=!<span class="hljs-number">1</span>),<span class="hljs-keyword">this</span>._extractNonGroupLayers(i,e),n=e.length):i.__parent?(<span class="hljs-keyword">this</span>._removeLayer(i,!<span class="hljs-number">0</span>,!<span class="hljs-number">0</span>),<span class="hljs-keyword">this</span>.fire(<span class="hljs-string">&quot;layerremove&quot;</span>,{layer:i}),r.hasLayer(i)&amp;&amp;(r.removeLayer(i),i.clusterShow&amp;&amp;i.clusterShow())):(s.removeLayer(i),<span class="hljs-keyword">this</span>.fire(<span class="hljs-string">&quot;layerremove&quot;</span>,{layer:i}));<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._topClusterLevel._recalculateBounds(),<span class="hljs-keyword">this</span>._refreshClustersIcons(),<span class="hljs-keyword">this</span>._topClusterLevel._recursivelyAddChildrenToMap(<span class="hljs-literal">null</span>,<span class="hljs-keyword">this</span>._zoom,<span class="hljs-keyword">this</span>._currentShownBounds),<span class="hljs-keyword">this</span>},clearLayers:function(){<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._map||(<span class="hljs-keyword">this</span>._needsClustering=[],<span class="hljs-keyword">this</span>._needsRemoving=[],delete <span class="hljs-keyword">this</span>._gridClusters,delete <span class="hljs-keyword">this</span>._gridUnclustered),<span class="hljs-keyword">this</span>._noanimationUnspiderfy&amp;&amp;<span class="hljs-keyword">this</span>._noanimationUnspiderfy(),<span class="hljs-keyword">this</span>._featureGroup.clearLayers(),<span class="hljs-keyword">this</span>._nonPointGroup.clearLayers(),<span class="hljs-keyword">this</span>.eachLayer(function(e){e.off(<span class="hljs-keyword">this</span>._childMarkerEventHandlers,<span class="hljs-keyword">this</span>),delete e.__parent},<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>._map&amp;&amp;<span class="hljs-keyword">this</span>._generateInitialClusters(),<span class="hljs-keyword">this</span>},getBounds:function(){<span class="hljs-keyword">var</span> e=new L.LatLngBounds;<span class="hljs-keyword">this</span>._topClusterLevel&amp;&amp;e.extend(<span class="hljs-keyword">this</span>._topClusterLevel._bounds);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>._needsClustering.length-<span class="hljs-number">1</span>;t&gt;=<span class="hljs-number">0</span>;t--)e.extend(<span class="hljs-keyword">this</span>._needsClustering[t].getLatLng());<span class="hljs-keyword">return</span> e.extend(<span class="hljs-keyword">this</span>._nonPointGroup.getBounds()),e},eachLayer:function(e,t){<span class="hljs-keyword">var</span> i,n,r,s=<span class="hljs-keyword">this</span>._needsClustering.slice(),o=<span class="hljs-keyword">this</span>._needsRemoving;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">this</span>._topClusterLevel&amp;&amp;<span class="hljs-keyword">this</span>._topClusterLevel.getAllChildMarkers(s),n=s.length-<span class="hljs-number">1</span>;n&gt;=<span class="hljs-number">0</span>;n--){<span class="hljs-keyword">for</span>(i=!<span class="hljs-number">0</span>,r=o.length-<span class="hljs-number">1</span>;r&gt;=<span class="hljs-number">0</span>;r--)<span class="hljs-keyword">if</span>(o[r].layer===s[n]){i=!<span class="hljs-number">1</span>;<span class="hljs-keyword">break</span>}i&amp;&amp;e.call(t,s[n])}<span class="hljs-keyword">this</span>._nonPointGroup.eachLayer(e,t)},getLayers:function(){<span class="hljs-keyword">var</span> e=[];<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.eachLayer(function(t){e.push(t)}),e},getLayer:function(e){<span class="hljs-keyword">var</span> t=<span class="hljs-literal">null</span>;<span class="hljs-keyword">return</span> e=parseInt(e,<span class="hljs-number">10</span>),<span class="hljs-keyword">this</span>.eachLayer(function(i){L.stamp(i)===e&amp;&amp;(t=i)}),t},hasLayer:function(e){<span class="hljs-keyword">if</span>(!e)<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;<span class="hljs-keyword">var</span> t,i=<span class="hljs-keyword">this</span>._needsClustering;<span class="hljs-keyword">for</span>(t=i.length-<span class="hljs-number">1</span>;t&gt;=<span class="hljs-number">0</span>;t--)<span class="hljs-keyword">if</span>(i[t]===e)<span class="hljs-keyword">return</span>!<span class="hljs-number">0</span>;<span class="hljs-keyword">for</span>(i=<span class="hljs-keyword">this</span>._needsRemoving,t=i.length-<span class="hljs-number">1</span>;t&gt;=<span class="hljs-number">0</span>;t--)<span class="hljs-keyword">if</span>(i[t].layer===e)<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;<span class="hljs-keyword">return</span>!(!e.__parent||e.__parent._group!==<span class="hljs-keyword">this</span>)||<span class="hljs-keyword">this</span>._nonPointGroup.hasLayer(e)},zoomToShowLayer:function(e,t){<span class="hljs-string">&quot;function&quot;</span>!=typeof t&amp;&amp;(t=function(){});<span class="hljs-keyword">var</span> i=function(){!e._icon&amp;&amp;!e.__parent._icon||<span class="hljs-keyword">this</span>._inZoomAnimation||(<span class="hljs-keyword">this</span>._map.off(<span class="hljs-string">&quot;moveend&quot;</span>,i,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.off(<span class="hljs-string">&quot;animationend&quot;</span>,i,<span class="hljs-keyword">this</span>),e._icon?t():e.__parent._icon&amp;&amp;(<span class="hljs-keyword">this</span>.once(<span class="hljs-string">&quot;spiderfied&quot;</span>,t,<span class="hljs-keyword">this</span>),e.__parent.spiderfy()))};e._icon&amp;&amp;<span class="hljs-keyword">this</span>._map.getBounds().contains(e.getLatLng())?t():e.__parent._zoom&lt;Math.round(<span class="hljs-keyword">this</span>._map._zoom)?(<span class="hljs-keyword">this</span>._map.on(<span class="hljs-string">&quot;moveend&quot;</span>,i,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>._map.panTo(e.getLatLng())):(<span class="hljs-keyword">this</span>._map.on(<span class="hljs-string">&quot;moveend&quot;</span>,i,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.on(<span class="hljs-string">&quot;animationend&quot;</span>,i,<span class="hljs-keyword">this</span>),e.__parent.zoomToBounds())},onAdd:function(e){<span class="hljs-keyword">this</span>._map=e;<span class="hljs-keyword">var</span> t,i,n;<span class="hljs-keyword">if</span>(!isFinite(<span class="hljs-keyword">this</span>._map.getMaxZoom()))<span class="hljs-keyword">throw</span><span class="hljs-string">&quot;Map has no maxZoom specified&quot;</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">this</span>._featureGroup.addTo(e),<span class="hljs-keyword">this</span>._nonPointGroup.addTo(e),<span class="hljs-keyword">this</span>._gridClusters||<span class="hljs-keyword">this</span>._generateInitialClusters(),<span class="hljs-keyword">this</span>._maxLat=e.options.crs.projection.MAX_LATITUDE,t=<span class="hljs-number">0</span>,i=<span class="hljs-keyword">this</span>._needsRemoving.length;i&gt;t;t++)n=<span class="hljs-keyword">this</span>._needsRemoving[t],n.newlatlng=n.layer._latlng,n.layer._latlng=n.latlng;<span class="hljs-keyword">for</span>(t=<span class="hljs-number">0</span>,i=<span class="hljs-keyword">this</span>._needsRemoving.length;i&gt;t;t++)n=<span class="hljs-keyword">this</span>._needsRemoving[t],<span class="hljs-keyword">this</span>._removeLayer(n.layer,!<span class="hljs-number">0</span>),n.layer._latlng=n.newlatlng;<span class="hljs-keyword">this</span>._needsRemoving=[],<span class="hljs-keyword">this</span>._zoom=Math.round(<span class="hljs-keyword">this</span>._map._zoom),<span class="hljs-keyword">this</span>._currentShownBounds=<span class="hljs-keyword">this</span>._getExpandedVisibleBounds(),<span class="hljs-keyword">this</span>._map.on(<span class="hljs-string">&quot;zoomend&quot;</span>,<span class="hljs-keyword">this</span>._zoomEnd,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>._map.on(<span class="hljs-string">&quot;moveend&quot;</span>,<span class="hljs-keyword">this</span>._moveEnd,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>._spiderfierOnAdd&amp;&amp;<span class="hljs-keyword">this</span>._spiderfierOnAdd(),<span class="hljs-keyword">this</span>._bindEvents(),i=<span class="hljs-keyword">this</span>._needsClustering,<span class="hljs-keyword">this</span>._needsClustering=[],<span class="hljs-keyword">this</span>.addLayers(i,!<span class="hljs-number">0</span>)},onRemove:function(e){e.off(<span class="hljs-string">&quot;zoomend&quot;</span>,<span class="hljs-keyword">this</span>._zoomEnd,<span class="hljs-keyword">this</span>),e.off(<span class="hljs-string">&quot;moveend&quot;</span>,<span class="hljs-keyword">this</span>._moveEnd,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>._unbindEvents(),<span class="hljs-keyword">this</span>._map._mapPane.className=<span class="hljs-keyword">this</span>._map._mapPane.className.replace(<span class="hljs-string">&quot; leaflet-cluster-anim&quot;</span>,<span class="hljs-string">&quot;&quot;</span>),<span class="hljs-keyword">this</span>._spiderfierOnRemove&amp;&amp;<span class="hljs-keyword">this</span>._spiderfierOnRemove(),delete <span class="hljs-keyword">this</span>._maxLat,<span class="hljs-keyword">this</span>._hideCoverage(),<span class="hljs-keyword">this</span>._featureGroup.remove(),<span class="hljs-keyword">this</span>._nonPointGroup.remove(),<span class="hljs-keyword">this</span>._featureGroup.clearLayers(),<span class="hljs-keyword">this</span>._map=<span class="hljs-literal">null</span>},getVisibleParent:function(e){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> t=e;t&amp;&amp;!t._icon;)t=t.__parent;<span class="hljs-keyword">return</span> t||<span class="hljs-literal">null</span>},_arraySplice:function(e,t){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=e.length-<span class="hljs-number">1</span>;i&gt;=<span class="hljs-number">0</span>;i--)<span class="hljs-keyword">if</span>(e[i]===t)<span class="hljs-keyword">return</span> e.splice(i,<span class="hljs-number">1</span>),!<span class="hljs-number">0</span>},_removeFromGridUnclustered:function(e,t){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>._map,n=<span class="hljs-keyword">this</span>._gridUnclustered,r=Math.floor(<span class="hljs-keyword">this</span>._map.getMinZoom());t&gt;=r&amp;&amp;n[t].removeObject(e,i.project(e.getLatLng(),t));t--);},_childMarkerDragStart:function(e){e.target.__dragStart=e.target._latlng},_childMarkerMoved:function(e){<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>._ignoreMove&amp;&amp;!e.target.__dragStart){<span class="hljs-keyword">var</span> t=e.target._popup&amp;&amp;e.target._popup.isOpen();<span class="hljs-keyword">this</span>._moveChild(e.target,e.oldLatLng,e.latlng),t&amp;&amp;e.target.openPopup()}},_moveChild:function(e,t,i){e._latlng=t,<span class="hljs-keyword">this</span>.removeLayer(e),e._latlng=i,<span class="hljs-keyword">this</span>.addLayer(e)},_childMarkerDragEnd:function(e){<span class="hljs-keyword">var</span> t=e.target.__dragStart;delete e.target.__dragStart,t&amp;&amp;<span class="hljs-keyword">this</span>._moveChild(e.target,t,e.target._latlng)},_removeLayer:function(e,t,i){<span class="hljs-keyword">var</span> n=<span class="hljs-keyword">this</span>._gridClusters,r=<span class="hljs-keyword">this</span>._gridUnclustered,s=<span class="hljs-keyword">this</span>._featureGroup,o=<span class="hljs-keyword">this</span>._map,a=Math.floor(<span class="hljs-keyword">this</span>._map.getMinZoom());t&amp;&amp;<span class="hljs-keyword">this</span>._removeFromGridUnclustered(e,<span class="hljs-keyword">this</span>._maxZoom);<span class="hljs-keyword">var</span> h,l=e.__parent,u=l._markers;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">this</span>._arraySplice(u,e);l&amp;&amp;(l._childCount--,l._boundsNeedUpdate=!<span class="hljs-number">0</span>,!(l._zoom&lt;a));)t&amp;&amp;l._childCount&lt;=<span class="hljs-number">1</span>?(h=l._markers[<span class="hljs-number">0</span>]===e?l._markers[<span class="hljs-number">1</span>]:l._markers[<span class="hljs-number">0</span>],n[l._zoom].removeObject(l,o.project(l._cLatLng,l._zoom)),r[l._zoom].addObject(h,o.project(h.getLatLng(),l._zoom)),<span class="hljs-keyword">this</span>._arraySplice(l.__parent._childClusters,l),l.__parent._markers.push(h),h.__parent=l.__parent,l._icon&amp;&amp;(s.removeLayer(l),i||s.addLayer(h))):l._iconNeedsUpdate=!<span class="hljs-number">0</span>,l=l.__parent;delete e.__parent},_isOrIsParent:function(e,t){<span class="hljs-keyword">for</span>(;t;){<span class="hljs-keyword">if</span>(e===t)<span class="hljs-keyword">return</span>!<span class="hljs-number">0</span>;t=t.parentNode}<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>},fire:function(e,t,i){<span class="hljs-keyword">if</span>(t&amp;&amp;t.layer instanceof L.MarkerCluster){<span class="hljs-keyword">if</span>(t.originalEvent&amp;&amp;<span class="hljs-keyword">this</span>._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))<span class="hljs-keyword">return</span>;e=<span class="hljs-string">&quot;cluster&quot;</span>+e}L.FeatureGroup.prototype.fire.call(<span class="hljs-keyword">this</span>,e,t,i)},listens:function(e,t){<span class="hljs-keyword">return</span> L.FeatureGroup.prototype.listens.call(<span class="hljs-keyword">this</span>,e,t)||L.FeatureGroup.prototype.listens.call(<span class="hljs-keyword">this</span>,<span class="hljs-string">&quot;cluster&quot;</span>+e,t)},_defaultIconCreateFunction:function(e){<span class="hljs-keyword">var</span> t=e.getChildCount(),i=<span class="hljs-string">&quot; marker-cluster-&quot;</span>;<span class="hljs-keyword">return</span> i+=<span class="hljs-number">10</span>&gt;t?<span class="hljs-string">&quot;small&quot;</span>:<span class="hljs-number">100</span>&gt;t?<span class="hljs-string">&quot;medium&quot;</span>:<span class="hljs-string">&quot;large&quot;</span>,new L.DivIcon({html:<span class="hljs-string">&quot;&lt;div&gt;&lt;span&gt;&quot;</span>+t+<span class="hljs-string">&quot;&lt;/span&gt;&lt;/div&gt;&quot;</span>,className:<span class="hljs-string">&quot;marker-cluster&quot;</span>+i,iconSize:new L.Point(<span class="hljs-number">40</span>,<span class="hljs-number">40</span>)})},_bindEvents:function(){<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>._map,t=<span class="hljs-keyword">this</span>.options.spiderfyOnMaxZoom,i=<span class="hljs-keyword">this</span>.options.showCoverageOnHover,n=<span class="hljs-keyword">this</span>.options.zoomToBoundsOnClick;(t||n)&amp;&amp;<span class="hljs-keyword">this</span>.on(<span class="hljs-string">&quot;clusterclick&quot;</span>,<span class="hljs-keyword">this</span>._zoomOrSpiderfy,<span class="hljs-keyword">this</span>),i&amp;&amp;(<span class="hljs-keyword">this</span>.on(<span class="hljs-string">&quot;clustermouseover&quot;</span>,<span class="hljs-keyword">this</span>._showCoverage,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.on(<span class="hljs-string">&quot;clustermouseout&quot;</span>,<span class="hljs-keyword">this</span>._hideCoverage,<span class="hljs-keyword">this</span>),e.on(<span class="hljs-string">&quot;zoomend&quot;</span>,<span class="hljs-keyword">this</span>._hideCoverage,<span class="hljs-keyword">this</span>))},_zoomOrSpiderfy:function(e){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> t=e.layer,i=t;<span class="hljs-number">1</span>===i._childClusters.length;)i=i._childClusters[<span class="hljs-number">0</span>];i._zoom===<span class="hljs-keyword">this</span>._maxZoom&amp;&amp;i._childCount===t._childCount&amp;&amp;<span class="hljs-keyword">this</span>.options.spiderfyOnMaxZoom?t.spiderfy():<span class="hljs-keyword">this</span>.options.zoomToBoundsOnClick&amp;&amp;t.zoomToBounds(),e.originalEvent&amp;&amp;<span class="hljs-number">13</span>===e.originalEvent.keyCode&amp;&amp;<span class="hljs-keyword">this</span>._map._container.focus()},_showCoverage:function(e){<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>._map;<span class="hljs-keyword">this</span>._inZoomAnimation||(<span class="hljs-keyword">this</span>._shownPolygon&amp;&amp;t.removeLayer(<span class="hljs-keyword">this</span>._shownPolygon),e.layer.getChildCount()&gt;<span class="hljs-number">2</span>&amp;&amp;e.layer!==<span class="hljs-keyword">this</span>._spiderfied&amp;&amp;(<span class="hljs-keyword">this</span>._shownPolygon=new L.Polygon(e.layer.getConvexHull(),<span class="hljs-keyword">this</span>.options.polygonOptions),t.addLayer(<span class="hljs-keyword">this</span>._shownPolygon)))},_hideCoverage:function(){<span class="hljs-keyword">this</span>._shownPolygon&amp;&amp;(<span class="hljs-keyword">this</span>._map.removeLayer(<span class="hljs-keyword">this</span>._shownPolygon),<span class="hljs-keyword">this</span>._shownPolygon=<span class="hljs-literal">null</span>)},_unbindEvents:function(){<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>.options.spiderfyOnMaxZoom,t=<span class="hljs-keyword">this</span>.options.showCoverageOnHover,i=<span class="hljs-keyword">this</span>.options.zoomToBoundsOnClick,n=<span class="hljs-keyword">this</span>._map;(e||i)&amp;&amp;<span class="hljs-keyword">this</span>.off(<span class="hljs-string">&quot;clusterclick&quot;</span>,<span class="hljs-keyword">this</span>._zoomOrSpiderfy,<span class="hljs-keyword">this</span>),t&amp;&amp;(<span class="hljs-keyword">this</span>.off(<span class="hljs-string">&quot;clustermouseover&quot;</span>,<span class="hljs-keyword">this</span>._showCoverage,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.off(<span class="hljs-string">&quot;clustermouseout&quot;</span>,<span class="hljs-keyword">this</span>._hideCoverage,<span class="hljs-keyword">this</span>),n.off(<span class="hljs-string">&quot;zoomend&quot;</span>,<span class="hljs-keyword">this</span>._hideCoverage,<span class="hljs-keyword">this</span>))},_zoomEnd:function(){<span class="hljs-keyword">this</span>._map&amp;&amp;(<span class="hljs-keyword">this</span>._mergeSplitClusters(),<span class="hljs-keyword">this</span>._zoom=Math.round(<span class="hljs-keyword">this</span>._map._zoom),<span class="hljs-keyword">this</span>._currentShownBounds=<span class="hljs-keyword">this</span>._getExpandedVisibleBounds())},_moveEnd:function(){<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>._inZoomAnimation){<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>._getExpandedVisibleBounds();<span class="hljs-keyword">this</span>._topClusterLevel._recursivelyRemoveChildrenFromMap(<span class="hljs-keyword">this</span>._currentShownBounds,Math.floor(<span class="hljs-keyword">this</span>._map.getMinZoom()),<span class="hljs-keyword">this</span>._zoom,e),<span class="hljs-keyword">this</span>._topClusterLevel._recursivelyAddChildrenToMap(<span class="hljs-literal">null</span>,Math.round(<span class="hljs-keyword">this</span>._map._zoom),e),<span class="hljs-keyword">this</span>._currentShownBounds=e}},_generateInitialClusters:function(){<span class="hljs-keyword">var</span> e=Math.ceil(<span class="hljs-keyword">this</span>._map.getMaxZoom()),t=Math.floor(<span class="hljs-keyword">this</span>._map.getMinZoom()),i=<span class="hljs-keyword">this</span>.options.maxClusterRadius,n=i;<span class="hljs-string">&quot;function&quot;</span>!=typeof i&amp;&amp;(n=function(){<span class="hljs-keyword">return</span> i}),<span class="hljs-literal">null</span>!==<span class="hljs-keyword">this</span>.options.disableClusteringAtZoom&amp;&amp;(e=<span class="hljs-keyword">this</span>.options.disableClusteringAtZoom-<span class="hljs-number">1</span>),<span class="hljs-keyword">this</span>._maxZoom=e,<span class="hljs-keyword">this</span>._gridClusters={},<span class="hljs-keyword">this</span>._gridUnclustered={};<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r=e;r&gt;=t;r--)<span class="hljs-keyword">this</span>._gridClusters[r]=new L.DistanceGrid(n(r)),<span class="hljs-keyword">this</span>._gridUnclustered[r]=new L.DistanceGrid(n(r));<span class="hljs-keyword">this</span>._topClusterLevel=new <span class="hljs-keyword">this</span>._markerCluster(<span class="hljs-keyword">this</span>,t-<span class="hljs-number">1</span>)},_addLayer:function(e,t){<span class="hljs-keyword">var</span> i,n,r=<span class="hljs-keyword">this</span>._gridClusters,s=<span class="hljs-keyword">this</span>._gridUnclustered,o=Math.floor(<span class="hljs-keyword">this</span>._map.getMinZoom());<span class="hljs-keyword">for</span>(<span class="hljs-keyword">this</span>.options.singleMarkerMode&amp;&amp;<span class="hljs-keyword">this</span>._overrideMarkerIcon(e),e.on(<span class="hljs-keyword">this</span>._childMarkerEventHandlers,<span class="hljs-keyword">this</span>);t&gt;=o;t--){i=<span class="hljs-keyword">this</span>._map.project(e.getLatLng(),t);<span class="hljs-keyword">var</span> a=r[t].getNearObject(i);<span class="hljs-keyword">if</span>(a)<span class="hljs-keyword">return</span> a._addChild(e),e.__parent=a,void <span class="hljs-number">0</span>;<span class="hljs-keyword">if</span>(a=s[t].getNearObject(i)){<span class="hljs-keyword">var</span> h=a.__parent;h&amp;&amp;<span class="hljs-keyword">this</span>._removeLayer(a,!<span class="hljs-number">1</span>);<span class="hljs-keyword">var</span> l=new <span class="hljs-keyword">this</span>._markerCluster(<span class="hljs-keyword">this</span>,t,a,e);r[t].addObject(l,<span class="hljs-keyword">this</span>._map.project(l._cLatLng,t)),a.__parent=l,e.__parent=l;<span class="hljs-keyword">var</span> u=l;<span class="hljs-keyword">for</span>(n=t-<span class="hljs-number">1</span>;n&gt;h._zoom;n--)u=new <span class="hljs-keyword">this</span>._markerCluster(<span class="hljs-keyword">this</span>,n,u),r[n].addObject(u,<span class="hljs-keyword">this</span>._map.project(a.getLatLng(),n));<span class="hljs-keyword">return</span> h._addChild(u),<span class="hljs-keyword">this</span>._removeFromGridUnclustered(a,t),void <span class="hljs-number">0</span>}s[t].addObject(e,i)}<span class="hljs-keyword">this</span>._topClusterLevel._addChild(e),e.__parent=<span class="hljs-keyword">this</span>._topClusterLevel},_refreshClustersIcons:function(){<span class="hljs-keyword">this</span>._featureGroup.eachLayer(function(e){e instanceof L.MarkerCluster&amp;&amp;e._iconNeedsUpdate&amp;&amp;e._updateIcon()})},_enqueue:function(e){<span class="hljs-keyword">this</span>._queue.push(e),<span class="hljs-keyword">this</span>._queueTimeout||(<span class="hljs-keyword">this</span>._queueTimeout=setTimeout(L.bind(<span class="hljs-keyword">this</span>._processQueue,<span class="hljs-keyword">this</span>),<span class="hljs-number">300</span>))},_processQueue:function(){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=<span class="hljs-number">0</span>;e&lt;<span class="hljs-keyword">this</span>._queue.length;e++)<span class="hljs-keyword">this</span>._queue[e].call(<span class="hljs-keyword">this</span>);<span class="hljs-keyword">this</span>._queue.length=<span class="hljs-number">0</span>,clearTimeout(<span class="hljs-keyword">this</span>._queueTimeout),<span class="hljs-keyword">this</span>._queueTimeout=<span class="hljs-literal">null</span>},_mergeSplitClusters:function(){<span class="hljs-keyword">var</span> e=Math.round(<span class="hljs-keyword">this</span>._map._zoom);<span class="hljs-keyword">this</span>._processQueue(),<span class="hljs-keyword">this</span>._zoom&lt;e&amp;&amp;<span class="hljs-keyword">this</span>._currentShownBounds.intersects(<span class="hljs-keyword">this</span>._getExpandedVisibleBounds())?(<span class="hljs-keyword">this</span>._animationStart(),<span class="hljs-keyword">this</span>._topClusterLevel._recursivelyRemoveChildrenFromMap(<span class="hljs-keyword">this</span>._currentShownBounds,Math.floor(<span class="hljs-keyword">this</span>._map.getMinZoom()),<span class="hljs-keyword">this</span>._zoom,<span class="hljs-keyword">this</span>._getExpandedVisibleBounds()),<span class="hljs-keyword">this</span>._animationZoomIn(<span class="hljs-keyword">this</span>._zoom,e)):<span class="hljs-keyword">this</span>._zoom&gt;e?(<span class="hljs-keyword">this</span>._animationStart(),<span class="hljs-keyword">this</span>._animationZoomOut(<span class="hljs-keyword">this</span>._zoom,e)):<span class="hljs-keyword">this</span>._moveEnd()},_getExpandedVisibleBounds:function(){<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.options.removeOutsideVisibleBounds?L.Browser.mobile?<span class="hljs-keyword">this</span>._checkBoundsMaxLat(<span class="hljs-keyword">this</span>._map.getBounds()):<span class="hljs-keyword">this</span>._checkBoundsMaxLat(<span class="hljs-keyword">this</span>._map.getBounds().pad(<span class="hljs-number">1</span>)):<span class="hljs-keyword">this</span>._mapBoundsInfinite},_checkBoundsMaxLat:function(e){<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>._maxLat;<span class="hljs-keyword">return</span> void <span class="hljs-number">0</span>!==t&amp;&amp;(e.getNorth()&gt;=t&amp;&amp;(e._northEast.lat=<span class="hljs-number">1</span>/<span class="hljs-number">0</span>),e.getSouth()&lt;=-t&amp;&amp;(e._southWest.lat=-<span class="hljs-number">1</span>/<span class="hljs-number">0</span>)),e},_animationAddLayerNonAnimated:function(e,t){<span class="hljs-keyword">if</span>(t===e)<span class="hljs-keyword">this</span>._featureGroup.addLayer(e);<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-number">2</span>===t._childCount){t._addToMap();<span class="hljs-keyword">var</span> i=t.getAllChildMarkers();<span class="hljs-keyword">this</span>._featureGroup.removeLayer(i[<span class="hljs-number">0</span>]),<span class="hljs-keyword">this</span>._featureGroup.removeLayer(i[<span class="hljs-number">1</span>])}<span class="hljs-keyword">else</span> t._updateIcon()},_extractNonGroupLayers:function(e,t){<span class="hljs-keyword">var</span> i,n=e.getLayers(),r=<span class="hljs-number">0</span>;<span class="hljs-keyword">for</span>(t=t||[];r&lt;n.length;r++)i=n[r],i instanceof L.LayerGroup?<span class="hljs-keyword">this</span>._extractNonGroupLayers(i,t):t.push(i);<span class="hljs-keyword">return</span> t},_overrideMarkerIcon:function(e){<span class="hljs-keyword">var</span> t=e.options.icon=<span class="hljs-keyword">this</span>.options.iconCreateFunction({getChildCount:function(){<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>},getAllChildMarkers:function(){<span class="hljs-keyword">return</span>[e]}});<span class="hljs-keyword">return</span> t}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-<span class="hljs-number">1</span>/<span class="hljs-number">0</span>,-<span class="hljs-number">1</span>/<span class="hljs-number">0</span>),new L.LatLng(<span class="hljs-number">1</span>/<span class="hljs-number">0</span>,<span class="hljs-number">1</span>/<span class="hljs-number">0</span>))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(e,t){<span class="hljs-keyword">this</span>._topClusterLevel._recursivelyRemoveChildrenFromMap(<span class="hljs-keyword">this</span>._currentShownBounds,Math.floor(<span class="hljs-keyword">this</span>._map.getMinZoom()),e),<span class="hljs-keyword">this</span>._topClusterLevel._recursivelyAddChildrenToMap(<span class="hljs-literal">null</span>,t,<span class="hljs-keyword">this</span>._getExpandedVisibleBounds()),<span class="hljs-keyword">this</span>.fire(<span class="hljs-string">&quot;animationend&quot;</span>)},_animationZoomOut:function(e,t){<span class="hljs-keyword">this</span>._topClusterLevel._recursivelyRemoveChildrenFromMap(<span class="hljs-keyword">this</span>._currentShownBounds,Math.floor(<span class="hljs-keyword">this</span>._map.getMinZoom()),e),<span class="hljs-keyword">this</span>._topClusterLevel._recursivelyAddChildrenToMap(<span class="hljs-literal">null</span>,t,<span class="hljs-keyword">this</span>._getExpandedVisibleBounds()),<span class="hljs-keyword">this</span>.fire(<span class="hljs-string">&quot;animationend&quot;</span>)},_animationAddLayer:function(e,t){<span class="hljs-keyword">this</span>._animationAddLayerNonAnimated(e,t)}},_withAnimation:{_animationStart:function(){<span class="hljs-keyword">this</span>._map._mapPane.className+=<span class="hljs-string">&quot; leaflet-cluster-anim&quot;</span>,<span class="hljs-keyword">this</span>._inZoomAnimation++},_animationZoomIn:function(e,t){<span class="hljs-keyword">var</span> i,n=<span class="hljs-keyword">this</span>._getExpandedVisibleBounds(),r=<span class="hljs-keyword">this</span>._featureGroup,s=Math.floor(<span class="hljs-keyword">this</span>._map.getMinZoom());<span class="hljs-keyword">this</span>._ignoreMove=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>._topClusterLevel._recursively(n,e,s,function(s){<span class="hljs-keyword">var</span> o,a=s._latlng,h=s._markers;<span class="hljs-keyword">for</span>(n.contains(a)||(a=<span class="hljs-literal">null</span>),s._isSingleParent()&amp;&amp;e+<span class="hljs-number">1</span>===t?(r.removeLayer(s),s._recursivelyAddChildrenToMap(<span class="hljs-literal">null</span>,t,n)):(s.clusterHide(),s._recursivelyAddChildrenToMap(a,t,n)),i=h.length-<span class="hljs-number">1</span>;i&gt;=<span class="hljs-number">0</span>;i--)o=h[i],n.contains(o._latlng)||r.removeLayer(o)}),<span class="hljs-keyword">this</span>._forceLayout(),<span class="hljs-keyword">this</span>._topClusterLevel._recursivelyBecomeVisible(n,t),r.eachLayer(function(e){e instanceof L.MarkerCluster||!e._icon||e.clusterShow()}),<span class="hljs-keyword">this</span>._topClusterLevel._recursively(n,e,t,function(e){e._recursivelyRestoreChildPositions(t)}),<span class="hljs-keyword">this</span>._ignoreMove=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>._enqueue(function(){<span class="hljs-keyword">this</span>._topClusterLevel._recursively(n,e,s,function(e){r.removeLayer(e),e.clusterShow()}),<span class="hljs-keyword">this</span>._animationEnd()})},_animationZoomOut:function(e,t){<span class="hljs-keyword">this</span>._animationZoomOutSingle(<span class="hljs-keyword">this</span>._topClusterLevel,e-<span class="hljs-number">1</span>,t),<span class="hljs-keyword">this</span>._topClusterLevel._recursivelyAddChildrenToMap(<span class="hljs-literal">null</span>,t,<span class="hljs-keyword">this</span>._getExpandedVisibleBounds()),<span class="hljs-keyword">this</span>._topClusterLevel._recursivelyRemoveChildrenFromMap(<span class="hljs-keyword">this</span>._currentShownBounds,Math.floor(<span class="hljs-keyword">this</span>._map.getMinZoom()),e,<span class="hljs-keyword">this</span>._getExpandedVisibleBounds())},_animationAddLayer:function(e,t){<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>,n=<span class="hljs-keyword">this</span>._featureGroup;n.addLayer(e),t!==e&amp;&amp;(t._childCount&gt;<span class="hljs-number">2</span>?(t._updateIcon(),<span class="hljs-keyword">this</span>._forceLayout(),<span class="hljs-keyword">this</span>._animationStart(),e._setPos(<span class="hljs-keyword">this</span>._map.latLngToLayerPoint(t.getLatLng())),e.clusterHide(),<span class="hljs-keyword">this</span>._enqueue(function(){n.removeLayer(e),e.clusterShow(),i._animationEnd()})):(<span class="hljs-keyword">this</span>._forceLayout(),i._animationStart(),i._animationZoomOutSingle(t,<span class="hljs-keyword">this</span>._map.getMaxZoom(),<span class="hljs-keyword">this</span>._zoom)))}},_animationZoomOutSingle:function(e,t,i){<span class="hljs-keyword">var</span> n=<span class="hljs-keyword">this</span>._getExpandedVisibleBounds(),r=Math.floor(<span class="hljs-keyword">this</span>._map.getMinZoom());e._recursivelyAnimateChildrenInAndAddSelfToMap(n,r,t+<span class="hljs-number">1</span>,i);<span class="hljs-keyword">var</span> s=<span class="hljs-keyword">this</span>;<span class="hljs-keyword">this</span>._forceLayout(),e._recursivelyBecomeVisible(n,i),<span class="hljs-keyword">this</span>._enqueue(function(){<span class="hljs-keyword">if</span>(<span class="hljs-number">1</span>===e._childCount){<span class="hljs-keyword">var</span> o=e._markers[<span class="hljs-number">0</span>];<span class="hljs-keyword">this</span>._ignoreMove=!<span class="hljs-number">0</span>,o.setLatLng(o.getLatLng()),<span class="hljs-keyword">this</span>._ignoreMove=!<span class="hljs-number">1</span>,o.clusterShow&amp;&amp;o.clusterShow()}<span class="hljs-keyword">else</span> e._recursively(n,i,r,function(e){e._recursivelyRemoveChildrenFromMap(n,r,t+<span class="hljs-number">1</span>)});s._animationEnd()})},_animationEnd:function(){<span class="hljs-keyword">this</span>._map&amp;&amp;(<span class="hljs-keyword">this</span>._map._mapPane.className=<span class="hljs-keyword">this</span>._map._mapPane.className.replace(<span class="hljs-string">&quot; leaflet-cluster-anim&quot;</span>,<span class="hljs-string">&quot;&quot;</span>)),<span class="hljs-keyword">this</span>._inZoomAnimation--,<span class="hljs-keyword">this</span>.fire(<span class="hljs-string">&quot;animationend&quot;</span>)},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(e){<span class="hljs-keyword">return</span> new L.MarkerClusterGroup(e)};<span class="hljs-keyword">var</span> i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(e,t,i,n){L.Marker.prototype.initialize.call(<span class="hljs-keyword">this</span>,i?i._cLatLng||i.getLatLng():new L.LatLng(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>),{icon:<span class="hljs-keyword">this</span>,pane:e.options.clusterPane}),<span class="hljs-keyword">this</span>._group=e,<span class="hljs-keyword">this</span>._zoom=t,<span class="hljs-keyword">this</span>._markers=[],<span class="hljs-keyword">this</span>._childClusters=[],<span class="hljs-keyword">this</span>._childCount=<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>._iconNeedsUpdate=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>._boundsNeedUpdate=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>._bounds=new L.LatLngBounds,i&amp;&amp;<span class="hljs-keyword">this</span>._addChild(i),n&amp;&amp;<span class="hljs-keyword">this</span>._addChild(n)},getAllChildMarkers:function(e,t){e=e||[];<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>._childClusters.length-<span class="hljs-number">1</span>;i&gt;=<span class="hljs-number">0</span>;i--)<span class="hljs-keyword">this</span>._childClusters[i].getAllChildMarkers(e);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=<span class="hljs-keyword">this</span>._markers.length-<span class="hljs-number">1</span>;n&gt;=<span class="hljs-number">0</span>;n--)t&amp;&amp;<span class="hljs-keyword">this</span>._markers[n].__dragStart||e.push(<span class="hljs-keyword">this</span>._markers[n]);<span class="hljs-keyword">return</span> e},getChildCount:function(){<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._childCount},zoomToBounds:function(e){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> t,i=<span class="hljs-keyword">this</span>._childClusters.slice(),n=<span class="hljs-keyword">this</span>._group._map,r=n.getBoundsZoom(<span class="hljs-keyword">this</span>._bounds),s=<span class="hljs-keyword">this</span>._zoom+<span class="hljs-number">1</span>,o=n.getZoom();i.length&gt;<span class="hljs-number">0</span>&amp;&amp;r&gt;s;){s++;<span class="hljs-keyword">var</span> a=[];<span class="hljs-keyword">for</span>(t=<span class="hljs-number">0</span>;t&lt;i.length;t++)a=a.concat(i[t]._childClusters);i=a}r&gt;s?<span class="hljs-keyword">this</span>._group._map.setView(<span class="hljs-keyword">this</span>._latlng,s):o&gt;=r?<span class="hljs-keyword">this</span>._group._map.setView(<span class="hljs-keyword">this</span>._latlng,o+<span class="hljs-number">1</span>):<span class="hljs-keyword">this</span>._group._map.fitBounds(<span class="hljs-keyword">this</span>._bounds,e)},getBounds:function(){<span class="hljs-keyword">var</span> e=new L.LatLngBounds;<span class="hljs-keyword">return</span> e.extend(<span class="hljs-keyword">this</span>._bounds),e},_updateIcon:function(){<span class="hljs-keyword">this</span>._iconNeedsUpdate=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>._icon&amp;&amp;<span class="hljs-keyword">this</span>.setIcon(<span class="hljs-keyword">this</span>)},createIcon:function(){<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._iconNeedsUpdate&amp;&amp;(<span class="hljs-keyword">this</span>._iconObj=<span class="hljs-keyword">this</span>._group.options.iconCreateFunction(<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>._iconNeedsUpdate=!<span class="hljs-number">1</span>),<span class="hljs-keyword">this</span>._iconObj.createIcon()},createShadow:function(){<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._iconObj.createShadow()},_addChild:function(e,t){<span class="hljs-keyword">this</span>._iconNeedsUpdate=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>._boundsNeedUpdate=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>._setClusterCenter(e),e instanceof L.MarkerCluster?(t||(<span class="hljs-keyword">this</span>._childClusters.push(e),e.__parent=<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>._childCount+=e._childCount):(t||<span class="hljs-keyword">this</span>._markers.push(e),<span class="hljs-keyword">this</span>._childCount++),<span class="hljs-keyword">this</span>.__parent&amp;&amp;<span class="hljs-keyword">this</span>.__parent._addChild(e,!<span class="hljs-number">0</span>)},_setClusterCenter:function(e){<span class="hljs-keyword">this</span>._cLatLng||(<span class="hljs-keyword">this</span>._cLatLng=e._cLatLng||e._latlng)},_resetBounds:function(){<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>._bounds;e._southWest&amp;&amp;(e._southWest.lat=<span class="hljs-number">1</span>/<span class="hljs-number">0</span>,e._southWest.lng=<span class="hljs-number">1</span>/<span class="hljs-number">0</span>),e._northEast&amp;&amp;(e._northEast.lat=-<span class="hljs-number">1</span>/<span class="hljs-number">0</span>,e._northEast.lng=-<span class="hljs-number">1</span>/<span class="hljs-number">0</span>)},_recalculateBounds:function(){<span class="hljs-keyword">var</span> e,t,i,n,r=<span class="hljs-keyword">this</span>._markers,s=<span class="hljs-keyword">this</span>._childClusters,o=<span class="hljs-number">0</span>,a=<span class="hljs-number">0</span>,h=<span class="hljs-keyword">this</span>._childCount;<span class="hljs-keyword">if</span>(<span class="hljs-number">0</span>!==h){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">this</span>._resetBounds(),e=<span class="hljs-number">0</span>;e&lt;r.length;e++)i=r[e]._latlng,<span class="hljs-keyword">this</span>._bounds.extend(i),o+=i.lat,a+=i.lng;<span class="hljs-keyword">for</span>(e=<span class="hljs-number">0</span>;e&lt;s.length;e++)t=s[e],t._boundsNeedUpdate&amp;&amp;t._recalculateBounds(),<span class="hljs-keyword">this</span>._bounds.extend(t._bounds),i=t._wLatLng,n=t._childCount,o+=i.lat*n,a+=i.lng*n;<span class="hljs-keyword">this</span>._latlng=<span class="hljs-keyword">this</span>._wLatLng=new L.LatLng(o/h,a/h),<span class="hljs-keyword">this</span>._boundsNeedUpdate=!<span class="hljs-number">1</span>}},_addToMap:function(e){e&amp;&amp;(<span class="hljs-keyword">this</span>._backupLatlng=<span class="hljs-keyword">this</span>._latlng,<span class="hljs-keyword">this</span>.setLatLng(e)),<span class="hljs-keyword">this</span>._group._featureGroup.addLayer(<span class="hljs-keyword">this</span>)},_recursivelyAnimateChildrenIn:function(e,t,i){<span class="hljs-keyword">this</span>._recursively(e,<span class="hljs-keyword">this</span>._group._map.getMinZoom(),i-<span class="hljs-number">1</span>,function(e){<span class="hljs-keyword">var</span> i,n,r=e._markers;<span class="hljs-keyword">for</span>(i=r.length-<span class="hljs-number">1</span>;i&gt;=<span class="hljs-number">0</span>;i--)n=r[i],n._icon&amp;&amp;(n._setPos(t),n.clusterHide())},function(e){<span class="hljs-keyword">var</span> i,n,r=e._childClusters;<span class="hljs-keyword">for</span>(i=r.length-<span class="hljs-number">1</span>;i&gt;=<span class="hljs-number">0</span>;i--)n=r[i],n._icon&amp;&amp;(n._setPos(t),n.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,t,i,n){<span class="hljs-keyword">this</span>._recursively(e,n,t,function(r){r._recursivelyAnimateChildrenIn(e,r._group._map.latLngToLayerPoint(r.getLatLng()).round(),i),r._isSingleParent()&amp;&amp;i-<span class="hljs-number">1</span>===n?(r.clusterShow(),r._recursivelyRemoveChildrenFromMap(e,t,i)):r.clusterHide(),r._addToMap()})},_recursivelyBecomeVisible:function(e,t){<span class="hljs-keyword">this</span>._recursively(e,<span class="hljs-keyword">this</span>._group._map.getMinZoom(),t,<span class="hljs-literal">null</span>,function(e){e.clusterShow()})},_recursivelyAddChildrenToMap:function(e,t,i){<span class="hljs-keyword">this</span>._recursively(i,<span class="hljs-keyword">this</span>._group._map.getMinZoom()-<span class="hljs-number">1</span>,t,function(n){<span class="hljs-keyword">if</span>(t!==n._zoom)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r=n._markers.length-<span class="hljs-number">1</span>;r&gt;=<span class="hljs-number">0</span>;r--){<span class="hljs-keyword">var</span> s=n._markers[r];i.contains(s._latlng)&amp;&amp;(e&amp;&amp;(s._backupLatlng=s.getLatLng(),s.setLatLng(e),s.clusterHide&amp;&amp;s.clusterHide()),n._group._featureGroup.addLayer(s))}},function(t){t._addToMap(e)})},_recursivelyRestoreChildPositions:function(e){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>._markers.length-<span class="hljs-number">1</span>;t&gt;=<span class="hljs-number">0</span>;t--){<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>._markers[t];i._backupLatlng&amp;&amp;(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}<span class="hljs-keyword">if</span>(e-<span class="hljs-number">1</span>===<span class="hljs-keyword">this</span>._zoom)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=<span class="hljs-keyword">this</span>._childClusters.length-<span class="hljs-number">1</span>;n&gt;=<span class="hljs-number">0</span>;n--)<span class="hljs-keyword">this</span>._childClusters[n]._restorePosition();<span class="hljs-keyword">else</span> <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r=<span class="hljs-keyword">this</span>._childClusters.length-<span class="hljs-number">1</span>;r&gt;=<span class="hljs-number">0</span>;r--)<span class="hljs-keyword">this</span>._childClusters[r]._recursivelyRestoreChildPositions(e)},_restorePosition:function(){<span class="hljs-keyword">this</span>._backupLatlng&amp;&amp;(<span class="hljs-keyword">this</span>.setLatLng(<span class="hljs-keyword">this</span>._backupLatlng),delete <span class="hljs-keyword">this</span>._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(e,t,i,n){<span class="hljs-keyword">var</span> r,s;<span class="hljs-keyword">this</span>._recursively(e,t-<span class="hljs-number">1</span>,i-<span class="hljs-number">1</span>,function(e){<span class="hljs-keyword">for</span>(s=e._markers.length-<span class="hljs-number">1</span>;s&gt;=<span class="hljs-number">0</span>;s--)r=e._markers[s],n&amp;&amp;n.contains(r._latlng)||(e._group._featureGroup.removeLayer(r),r.clusterShow&amp;&amp;r.clusterShow())},function(e){<span class="hljs-keyword">for</span>(s=e._childClusters.length-<span class="hljs-number">1</span>;s&gt;=<span class="hljs-number">0</span>;s--)r=e._childClusters[s],n&amp;&amp;n.contains(r._latlng)||(e._group._featureGroup.removeLayer(r),r.clusterShow&amp;&amp;r.clusterShow())})},_recursively:function(e,t,i,n,r){<span class="hljs-keyword">var</span> s,o,a=<span class="hljs-keyword">this</span>._childClusters,h=<span class="hljs-keyword">this</span>._zoom;<span class="hljs-keyword">if</span>(h&gt;=t&amp;&amp;(n&amp;&amp;n(<span class="hljs-keyword">this</span>),r&amp;&amp;h===i&amp;&amp;r(<span class="hljs-keyword">this</span>)),t&gt;h||i&gt;h)<span class="hljs-keyword">for</span>(s=a.length-<span class="hljs-number">1</span>;s&gt;=<span class="hljs-number">0</span>;s--)o=a[s],o._boundsNeedUpdate&amp;&amp;o._recalculateBounds(),e.intersects(o._bounds)&amp;&amp;o._recursively(e,t,i,n,r)},_isSingleParent:function(){<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._childClusters.length&gt;<span class="hljs-number">0</span>&amp;&amp;<span class="hljs-keyword">this</span>._childClusters[<span class="hljs-number">0</span>]._childCount===<span class="hljs-keyword">this</span>._childCount}});L.Marker.include({clusterHide:function(){<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>.options.opacity;<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.setOpacity(<span class="hljs-number">0</span>),<span class="hljs-keyword">this</span>.options.opacity=e,<span class="hljs-keyword">this</span>},clusterShow:function(){<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.setOpacity(<span class="hljs-keyword">this</span>.options.opacity)}}),L.DistanceGrid=function(e){<span class="hljs-keyword">this</span>._cellSize=e,<span class="hljs-keyword">this</span>._sqCellSize=e*e,<span class="hljs-keyword">this</span>._grid={},<span class="hljs-keyword">this</span>._objectPoint={}},L.DistanceGrid.prototype={addObject:function(e,t){<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>._getCoord(t.x),n=<span class="hljs-keyword">this</span>._getCoord(t.y),r=<span class="hljs-keyword">this</span>._grid,s=r[n]=r[n]||{},o=s[i]=s[i]||[],a=L.Util.stamp(e);<span class="hljs-keyword">this</span>._objectPoint[a]=t,o.push(e)},updateObject:function(e,t){<span class="hljs-keyword">this</span>.removeObject(e),<span class="hljs-keyword">this</span>.addObject(e,t)},removeObject:function(e,t){<span class="hljs-keyword">var</span> i,n,r=<span class="hljs-keyword">this</span>._getCoord(t.x),s=<span class="hljs-keyword">this</span>._getCoord(t.y),o=<span class="hljs-keyword">this</span>._grid,a=o[s]=o[s]||{},h=a[r]=a[r]||[];<span class="hljs-keyword">for</span>(delete <span class="hljs-keyword">this</span>._objectPoint[L.Util.stamp(e)],i=<span class="hljs-number">0</span>,n=h.length;n&gt;i;i++)<span class="hljs-keyword">if</span>(h[i]===e)<span class="hljs-keyword">return</span> h.splice(i,<span class="hljs-number">1</span>),<span class="hljs-number">1</span>===n&amp;&amp;delete a[r],!<span class="hljs-number">0</span>},eachObject:function(e,t){<span class="hljs-keyword">var</span> i,n,r,s,o,a,h,l=<span class="hljs-keyword">this</span>._grid;<span class="hljs-keyword">for</span>(i <span class="hljs-keyword">in</span> l){o=l[i];<span class="hljs-keyword">for</span>(n <span class="hljs-keyword">in</span> o)<span class="hljs-keyword">for</span>(a=o[n],r=<span class="hljs-number">0</span>,s=a.length;s&gt;r;r++)h=e.call(t,a[r]),h&amp;&amp;(r--,s--)}},getNearObject:function(e){<span class="hljs-keyword">var</span> t,i,n,r,s,o,a,h,l=<span class="hljs-keyword">this</span>._getCoord(e.x),u=<span class="hljs-keyword">this</span>._getCoord(e.y),_=<span class="hljs-keyword">this</span>._objectPoint,d=<span class="hljs-keyword">this</span>._sqCellSize,c=<span class="hljs-literal">null</span>;<span class="hljs-keyword">for</span>(t=u-<span class="hljs-number">1</span>;u+<span class="hljs-number">1</span>&gt;=t;t++)<span class="hljs-keyword">if</span>(r=<span class="hljs-keyword">this</span>._grid[t])<span class="hljs-keyword">for</span>(i=l-<span class="hljs-number">1</span>;l+<span class="hljs-number">1</span>&gt;=i;i++)<span class="hljs-keyword">if</span>(s=r[i])<span class="hljs-keyword">for</span>(n=<span class="hljs-number">0</span>,o=s.length;o&gt;n;n++)a=s[n],h=<span class="hljs-keyword">this</span>._sqDist(_[L.Util.stamp(a)],e),(d&gt;h||d&gt;=h&amp;&amp;<span class="hljs-literal">null</span>===c)&amp;&amp;(d=h,c=a);<span class="hljs-keyword">return</span> c},_getCoord:function(e){<span class="hljs-keyword">var</span> t=Math.floor(e/<span class="hljs-keyword">this</span>._cellSize);<span class="hljs-keyword">return</span> isFinite(t)?t:e},_sqDist:function(e,t){<span class="hljs-keyword">var</span> i=t.x-e.x,n=t.y-e.y;<span class="hljs-keyword">return</span> i*i+n*n}},function(){L.QuickHull={getDistant:function(e,t){<span class="hljs-keyword">var</span> i=t[<span class="hljs-number">1</span>].lat-t[<span class="hljs-number">0</span>].lat,n=t[<span class="hljs-number">0</span>].lng-t[<span class="hljs-number">1</span>].lng;<span class="hljs-keyword">return</span> n*(e.lat-t[<span class="hljs-number">0</span>].lat)+i*(e.lng-t[<span class="hljs-number">0</span>].lng)},findMostDistantPointFromBaseLine:function(e,t){<span class="hljs-keyword">var</span> i,n,r,s=<span class="hljs-number">0</span>,o=<span class="hljs-literal">null</span>,a=[];<span class="hljs-keyword">for</span>(i=t.length-<span class="hljs-number">1</span>;i&gt;=<span class="hljs-number">0</span>;i--)n=t[i],r=<span class="hljs-keyword">this</span>.getDistant(n,e),r&gt;<span class="hljs-number">0</span>&amp;&amp;(a.push(n),r&gt;s&amp;&amp;(s=r,o=n));<span class="hljs-keyword">return</span>{maxPoint:o,newPoints:a}},buildConvexHull:function(e,t){<span class="hljs-keyword">var</span> i=[],n=<span class="hljs-keyword">this</span>.findMostDistantPointFromBaseLine(e,t);<span class="hljs-keyword">return</span> n.maxPoint?(i=i.concat(<span class="hljs-keyword">this</span>.buildConvexHull([e[<span class="hljs-number">0</span>],n.maxPoint],n.newPoints)),i=i.concat(<span class="hljs-keyword">this</span>.buildConvexHull([n.maxPoint,e[<span class="hljs-number">1</span>]],n.newPoints))):[e[<span class="hljs-number">0</span>]]},getConvexHull:function(e){<span class="hljs-keyword">var</span> t,i=!<span class="hljs-number">1</span>,n=!<span class="hljs-number">1</span>,r=!<span class="hljs-number">1</span>,s=!<span class="hljs-number">1</span>,o=<span class="hljs-literal">null</span>,a=<span class="hljs-literal">null</span>,h=<span class="hljs-literal">null</span>,l=<span class="hljs-literal">null</span>,u=<span class="hljs-literal">null</span>,_=<span class="hljs-literal">null</span>;<span class="hljs-keyword">for</span>(t=e.length-<span class="hljs-number">1</span>;t&gt;=<span class="hljs-number">0</span>;t--){<span class="hljs-keyword">var</span> d=e[t];(i===!<span class="hljs-number">1</span>||d.lat&gt;i)&amp;&amp;(o=d,i=d.lat),(n===!<span class="hljs-number">1</span>||d.lat&lt;n)&amp;&amp;(a=d,n=d.lat),(r===!<span class="hljs-number">1</span>||d.lng&gt;r)&amp;&amp;(h=d,r=d.lng),(s===!<span class="hljs-number">1</span>||d.lng&lt;s)&amp;&amp;(l=d,s=d.lng)}n!==i?(_=a,u=o):(_=l,u=h);<span class="hljs-keyword">var</span> c=[].concat(<span class="hljs-keyword">this</span>.buildConvexHull([_,u],e),<span class="hljs-keyword">this</span>.buildConvexHull([u,_],e));<span class="hljs-keyword">return</span> c}}}(),L.MarkerCluster.include({getConvexHull:function(){<span class="hljs-keyword">var</span> e,t,i=<span class="hljs-keyword">this</span>.getAllChildMarkers(),n=[];<span class="hljs-keyword">for</span>(t=i.length-<span class="hljs-number">1</span>;t&gt;=<span class="hljs-number">0</span>;t--)e=i[t].getLatLng(),n.push(e);<span class="hljs-keyword">return</span> L.QuickHull.getConvexHull(n)}}),L.MarkerCluster.include({_2PI:<span class="hljs-number">2</span>*Math.PI,_circleFootSeparation:<span class="hljs-number">25</span>,_circleStartAngle:<span class="hljs-number">0</span>,_spiralFootSeparation:<span class="hljs-number">28</span>,_spiralLengthStart:<span class="hljs-number">11</span>,_spiralLengthFactor:<span class="hljs-number">5</span>,_circleSpiralSwitchover:<span class="hljs-number">9</span>,spiderfy:function(){<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>._group._spiderfied!==<span class="hljs-keyword">this</span>&amp;&amp;!<span class="hljs-keyword">this</span>._group._inZoomAnimation){<span class="hljs-keyword">var</span> e,t=<span class="hljs-keyword">this</span>.getAllChildMarkers(<span class="hljs-literal">null</span>,!<span class="hljs-number">0</span>),i=<span class="hljs-keyword">this</span>._group,n=i._map,r=n.latLngToLayerPoint(<span class="hljs-keyword">this</span>._latlng);<span class="hljs-keyword">this</span>._group._unspiderfy(),<span class="hljs-keyword">this</span>._group._spiderfied=<span class="hljs-keyword">this</span>,t.length&gt;=<span class="hljs-keyword">this</span>._circleSpiralSwitchover?e=<span class="hljs-keyword">this</span>._generatePointsSpiral(t.length,r):(r.y+=<span class="hljs-number">10</span>,e=<span class="hljs-keyword">this</span>._generatePointsCircle(t.length,r)),<span class="hljs-keyword">this</span>._animationSpiderfy(t,e)}},unspiderfy:function(e){<span class="hljs-keyword">this</span>._group._inZoomAnimation||(<span class="hljs-keyword">this</span>._animationUnspiderfy(e),<span class="hljs-keyword">this</span>._group._spiderfied=<span class="hljs-literal">null</span>)},_generatePointsCircle:function(e,t){<span class="hljs-keyword">var</span> i,n,r=<span class="hljs-keyword">this</span>._group.options.spiderfyDistanceMultiplier*<span class="hljs-keyword">this</span>._circleFootSeparation*(<span class="hljs-number">2</span>+e),s=r/<span class="hljs-keyword">this</span>._2PI,o=<span class="hljs-keyword">this</span>._2PI/e,a=[];<span class="hljs-keyword">for</span>(s=Math.max(s,<span class="hljs-number">35</span>),a.length=e,i=<span class="hljs-number">0</span>;e&gt;i;i++)n=<span class="hljs-keyword">this</span>._circleStartAngle+i*o,a[i]=new L.Point(t.x+s*Math.cos(n),t.y+s*Math.sin(n))._round();<span class="hljs-keyword">return</span> a},_generatePointsSpiral:function(e,t){<span class="hljs-keyword">var</span> i,n=<span class="hljs-keyword">this</span>._group.options.spiderfyDistanceMultiplier,r=n*<span class="hljs-keyword">this</span>._spiralLengthStart,s=n*<span class="hljs-keyword">this</span>._spiralFootSeparation,o=n*<span class="hljs-keyword">this</span>._spiralLengthFactor*<span class="hljs-keyword">this</span>._2PI,a=<span class="hljs-number">0</span>,h=[];<span class="hljs-keyword">for</span>(h.length=e,i=e;i&gt;=<span class="hljs-number">0</span>;i--)e&gt;i&amp;&amp;(h[i]=new L.Point(t.x+r*Math.cos(a),t.y+r*Math.sin(a))._round()),a+=s/r+<span class="hljs-number">5e-4</span>*i,r+=o/a;<span class="hljs-keyword">return</span> h},_noanimationUnspiderfy:function(){<span class="hljs-keyword">var</span> e,t,i=<span class="hljs-keyword">this</span>._group,n=i._map,r=i._featureGroup,s=<span class="hljs-keyword">this</span>.getAllChildMarkers(<span class="hljs-literal">null</span>,!<span class="hljs-number">0</span>);<span class="hljs-keyword">for</span>(i._ignoreMove=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.setOpacity(<span class="hljs-number">1</span>),t=s.length-<span class="hljs-number">1</span>;t&gt;=<span class="hljs-number">0</span>;t--)e=s[t],r.removeLayer(e),e._preSpiderfyLatlng&amp;&amp;(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng),e.setZIndexOffset&amp;&amp;e.setZIndexOffset(<span class="hljs-number">0</span>),e._spiderLeg&amp;&amp;(n.removeLayer(e._spiderLeg),delete e._spiderLeg);i.fire(<span class="hljs-string">&quot;unspiderfied&quot;</span>,{cluster:<span class="hljs-keyword">this</span>,markers:s}),i._ignoreMove=!<span class="hljs-number">1</span>,i._spiderfied=<span class="hljs-literal">null</span>}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(e,t){<span class="hljs-keyword">var</span> i,n,r,s,o=<span class="hljs-keyword">this</span>._group,a=o._map,h=o._featureGroup,l=<span class="hljs-keyword">this</span>._group.options.spiderLegPolylineOptions;<span class="hljs-keyword">for</span>(o._ignoreMove=!<span class="hljs-number">0</span>,i=<span class="hljs-number">0</span>;i&lt;e.length;i++)s=a.layerPointToLatLng(t[i]),n=e[i],r=new L.Polyline([<span class="hljs-keyword">this</span>._latlng,s],l),a.addLayer(r),n._spiderLeg=r,n._preSpiderfyLatlng=n._latlng,n.setLatLng(s),n.setZIndexOffset&amp;&amp;n.setZIndexOffset(<span class="hljs-number">1e6</span>),h.addLayer(n);<span class="hljs-keyword">this</span>.setOpacity(<span class="hljs-number">.3</span>),o._ignoreMove=!<span class="hljs-number">1</span>,o.fire(<span class="hljs-string">&quot;spiderfied&quot;</span>,{cluster:<span class="hljs-keyword">this</span>,markers:e})},_animationUnspiderfy:function(){<span class="hljs-keyword">this</span>._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(e,t){<span class="hljs-keyword">var</span> i,n,r,s,o,a,h=<span class="hljs-keyword">this</span>,l=<span class="hljs-keyword">this</span>._group,u=l._map,_=l._featureGroup,d=<span class="hljs-keyword">this</span>._latlng,c=u.latLngToLayerPoint(d),p=L.Path.SVG,f=L.extend({},<span class="hljs-keyword">this</span>._group.options.spiderLegPolylineOptions),m=f.opacity;<span class="hljs-keyword">for</span>(void <span class="hljs-number">0</span>===m&amp;&amp;(m=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),p?(f.opacity=<span class="hljs-number">0</span>,f.className=(f.className||<span class="hljs-string">&quot;&quot;</span>)+<span class="hljs-string">&quot; leaflet-cluster-spider-leg&quot;</span>):f.opacity=m,l._ignoreMove=!<span class="hljs-number">0</span>,i=<span class="hljs-number">0</span>;i&lt;e.length;i++)n=e[i],a=u.layerPointToLatLng(t[i]),r=new L.Polyline([d,a],f),u.addLayer(r),n._spiderLeg=r,p&amp;&amp;(s=r._path,o=s.getTotalLength()+<span class="hljs-number">.1</span>,s.style.strokeDasharray=o,s.style.strokeDashoffset=o),n.setZIndexOffset&amp;&amp;n.setZIndexOffset(<span class="hljs-number">1e6</span>),n.clusterHide&amp;&amp;n.clusterHide(),_.addLayer(n),n._setPos&amp;&amp;n._setPos(c);<span class="hljs-keyword">for</span>(l._forceLayout(),l._animationStart(),i=e.length-<span class="hljs-number">1</span>;i&gt;=<span class="hljs-number">0</span>;i--)a=u.layerPointToLatLng(t[i]),n=e[i],n._preSpiderfyLatlng=n._latlng,n.setLatLng(a),n.clusterShow&amp;&amp;n.clusterShow(),p&amp;&amp;(r=n._spiderLeg,s=r._path,s.style.strokeDashoffset=<span class="hljs-number">0</span>,r.setStyle({opacity:m}));<span class="hljs-keyword">this</span>.setOpacity(<span class="hljs-number">.3</span>),l._ignoreMove=!<span class="hljs-number">1</span>,setTimeout(function(){l._animationEnd(),l.fire(<span class="hljs-string">&quot;spiderfied&quot;</span>,{cluster:h,markers:e})},<span class="hljs-number">200</span>)},_animationUnspiderfy:function(e){<span class="hljs-keyword">var</span> t,i,n,r,s,o,a=<span class="hljs-keyword">this</span>,h=<span class="hljs-keyword">this</span>._group,l=h._map,u=h._featureGroup,_=e?l._latLngToNewLayerPoint(<span class="hljs-keyword">this</span>._latlng,e.zoom,e.center):l.latLngToLayerPoint(<span class="hljs-keyword">this</span>._latlng),d=<span class="hljs-keyword">this</span>.getAllChildMarkers(<span class="hljs-literal">null</span>,!<span class="hljs-number">0</span>),c=L.Path.SVG;<span class="hljs-keyword">for</span>(h._ignoreMove=!<span class="hljs-number">0</span>,h._animationStart(),<span class="hljs-keyword">this</span>.setOpacity(<span class="hljs-number">1</span>),i=d.length-<span class="hljs-number">1</span>;i&gt;=<span class="hljs-number">0</span>;i--)t=d[i],t._preSpiderfyLatlng&amp;&amp;(t.closePopup(),t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng,o=!<span class="hljs-number">0</span>,t._setPos&amp;&amp;(t._setPos(_),o=!<span class="hljs-number">1</span>),t.clusterHide&amp;&amp;(t.clusterHide(),o=!<span class="hljs-number">1</span>),o&amp;&amp;u.removeLayer(t),c&amp;&amp;(n=t._spiderLeg,r=n._path,s=r.getTotalLength()+<span class="hljs-number">.1</span>,r.style.strokeDashoffset=s,n.setStyle({opacity:<span class="hljs-number">0</span>})));h._ignoreMove=!<span class="hljs-number">1</span>,setTimeout(function(){<span class="hljs-keyword">var</span> e=<span class="hljs-number">0</span>;<span class="hljs-keyword">for</span>(i=d.length-<span class="hljs-number">1</span>;i&gt;=<span class="hljs-number">0</span>;i--)t=d[i],t._spiderLeg&amp;&amp;e++;<span class="hljs-keyword">for</span>(i=d.length-<span class="hljs-number">1</span>;i&gt;=<span class="hljs-number">0</span>;i--)t=d[i],t._spiderLeg&amp;&amp;(t.clusterShow&amp;&amp;t.clusterShow(),t.setZIndexOffset&amp;&amp;t.setZIndexOffset(<span class="hljs-number">0</span>),e&gt;<span class="hljs-number">1</span>&amp;&amp;u.removeLayer(t),l.removeLayer(t._spiderLeg),delete t._spiderLeg);h._animationEnd(),h.fire(<span class="hljs-string">&quot;unspiderfied&quot;</span>,{cluster:a,markers:d})},<span class="hljs-number">200</span>)}}),L.MarkerClusterGroup.include({_spiderfied:<span class="hljs-literal">null</span>,unspiderfy:function(){<span class="hljs-keyword">this</span>._unspiderfy.apply(<span class="hljs-keyword">this</span>,arguments)},_spiderfierOnAdd:function(){<span class="hljs-keyword">this</span>._map.on(<span class="hljs-string">&quot;click&quot;</span>,<span class="hljs-keyword">this</span>._unspiderfyWrapper,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>._map.options.zoomAnimation&amp;&amp;<span class="hljs-keyword">this</span>._map.on(<span class="hljs-string">&quot;zoomstart&quot;</span>,<span class="hljs-keyword">this</span>._unspiderfyZoomStart,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>._map.on(<span class="hljs-string">&quot;zoomend&quot;</span>,<span class="hljs-keyword">this</span>._noanimationUnspiderfy,<span class="hljs-keyword">this</span>),L.Browser.touch||<span class="hljs-keyword">this</span>._map.getRenderer(<span class="hljs-keyword">this</span>)},_spiderfierOnRemove:function(){<span class="hljs-keyword">this</span>._map.off(<span class="hljs-string">&quot;click&quot;</span>,<span class="hljs-keyword">this</span>._unspiderfyWrapper,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>._map.off(<span class="hljs-string">&quot;zoomstart&quot;</span>,<span class="hljs-keyword">this</span>._unspiderfyZoomStart,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>._map.off(<span class="hljs-string">&quot;zoomanim&quot;</span>,<span class="hljs-keyword">this</span>._unspiderfyZoomAnim,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>._map.off(<span class="hljs-string">&quot;zoomend&quot;</span>,<span class="hljs-keyword">this</span>._noanimationUnspiderfy,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>._noanimationUnspiderfy()
},_unspiderfyZoomStart:function(){<span class="hljs-keyword">this</span>._map&amp;&amp;<span class="hljs-keyword">this</span>._map.on(<span class="hljs-string">&quot;zoomanim&quot;</span>,<span class="hljs-keyword">this</span>._unspiderfyZoomAnim,<span class="hljs-keyword">this</span>)},_unspiderfyZoomAnim:function(e){L.DomUtil.hasClass(<span class="hljs-keyword">this</span>._map._mapPane,<span class="hljs-string">&quot;leaflet-touching&quot;</span>)||(<span class="hljs-keyword">this</span>._map.off(<span class="hljs-string">&quot;zoomanim&quot;</span>,<span class="hljs-keyword">this</span>._unspiderfyZoomAnim,<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>._unspiderfy(e))},_unspiderfyWrapper:function(){<span class="hljs-keyword">this</span>._unspiderfy()},_unspiderfy:function(e){<span class="hljs-keyword">this</span>._spiderfied&amp;&amp;<span class="hljs-keyword">this</span>._spiderfied.unspiderfy(e)},_noanimationUnspiderfy:function(){<span class="hljs-keyword">this</span>._spiderfied&amp;&amp;<span class="hljs-keyword">this</span>._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(e){e._spiderLeg&amp;&amp;(<span class="hljs-keyword">this</span>._featureGroup.removeLayer(e),e.clusterShow&amp;&amp;e.clusterShow(),e.setZIndexOffset&amp;&amp;e.setZIndexOffset(<span class="hljs-number">0</span>),<span class="hljs-keyword">this</span>._map.removeLayer(e._spiderLeg),delete e._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(e){<span class="hljs-keyword">return</span> e?e instanceof L.MarkerClusterGroup?e=e._topClusterLevel.getAllChildMarkers():e instanceof L.LayerGroup?e=e._layers:e instanceof L.MarkerCluster?e=e.getAllChildMarkers():e instanceof L.Marker&amp;&amp;(e=[e]):e=<span class="hljs-keyword">this</span>._topClusterLevel.getAllChildMarkers(),<span class="hljs-keyword">this</span>._flagParentsIconsNeedUpdate(e),<span class="hljs-keyword">this</span>._refreshClustersIcons(),<span class="hljs-keyword">this</span>.options.singleMarkerMode&amp;&amp;<span class="hljs-keyword">this</span>._refreshSingleMarkerModeMarkers(e),<span class="hljs-keyword">this</span>},_flagParentsIconsNeedUpdate:function(e){<span class="hljs-keyword">var</span> t,i;<span class="hljs-keyword">for</span>(t <span class="hljs-keyword">in</span> e)<span class="hljs-keyword">for</span>(i=e[t].__parent;i;)i._iconNeedsUpdate=!<span class="hljs-number">0</span>,i=i.__parent},_refreshSingleMarkerModeMarkers:function(e){<span class="hljs-keyword">var</span> t,i;<span class="hljs-keyword">for</span>(t <span class="hljs-keyword">in</span> e)i=e[t],<span class="hljs-keyword">this</span>.hasLayer(i)&amp;&amp;i.setIcon(<span class="hljs-keyword">this</span>._overrideMarkerIcon(i))}}),L.Marker.include({refreshIconOptions:function(e,t){<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>.options.icon;<span class="hljs-keyword">return</span> L.setOptions(i,e),<span class="hljs-keyword">this</span>.setIcon(i),t&amp;&amp;<span class="hljs-keyword">this</span>.__parent&amp;&amp;<span class="hljs-keyword">this</span>.__parent._group.refreshClusters(<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>}}),e.MarkerClusterGroup=t,e.MarkerCluster=i});
<span class="hljs-comment">//# sourceMappingURL=leaflet.markercluster.js.map</span></div></div></div></main></body></html>